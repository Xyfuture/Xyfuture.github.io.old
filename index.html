<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Xyfuture&#39;s home">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Xyfuture&#39;s home">
<meta property="article:author" content="Xyfuture">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Xyfuture's home</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xyfuture's home</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/09/Program-month-simulate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/09/Program-month-simulate/" itemprop="url">Program-month-simulate</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-09T18:42:50+08:00">
                2020-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h1><h2 id="炉石传说201609-3"><a href="#炉石传说201609-3" class="headerlink" title="炉石传说201609-3"></a>炉石传说201609-3</h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/09/ABPYhflZb9U2r3W.png" alt="image-20200609184738151"></p>
<p>完整题面非常长，前面都是介绍背景，没啥用，重点关注后面，基本规则</p>
<ul>
<li>1个英雄 7个随从</li>
<li>一个回合三种操作</li>
<li>添加随从，随从死亡都是顺移的</li>
<li>攻击的规则是双方都掉血</li>
</ul>
<p>然后看看最后的约定就可以了</p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>这道题完全就是模拟，因此直接按照题意要求做就可以</p>
<p>随从的存放使用vector，比较方便插入和删除随从</p>
<p>随从根据血量和攻击力确定，使用pair存储，每次攻击时判断攻击后的血量，然后按要求删除</p>
<p>英雄和随从放在一起，但是在数组的0号下标</p>
<p>最后输赢判断就是看看谁的英雄hp是负的，负的（0）为输，都正为平</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt; player[<span class="number">2</span>];<span class="comment">//0是先手，1是后手</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">summon</span><span class="params">(<span class="keyword">int</span> t)</span><span class="comment">//加入随从</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> posi,hp,atk;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;posi&gt;&gt;atk&gt;&gt;hp;</span><br><span class="line">    player[t].insert(player[t].begin()+posi,make_pair(hp,atk));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">attack</span><span class="params">(<span class="keyword">int</span> t)</span><span class="comment">//攻击</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> attacker,defender;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;attacker&gt;&gt;defender;</span><br><span class="line">    player[t][attacker].first -= player[t^<span class="number">1</span>][defender].second;</span><br><span class="line">    player[t^<span class="number">1</span>][defender].first -= player[t][attacker].second;</span><br><span class="line">    <span class="keyword">if</span>(defender!=<span class="number">0</span>&amp;&amp;player[t^<span class="number">1</span>][defender].first&lt;=<span class="number">0</span>)<span class="comment">//删除，不删英雄</span></span><br><span class="line">        player[t^<span class="number">1</span>].erase(player[t^<span class="number">1</span>].begin()+defender);</span><br><span class="line">    <span class="keyword">if</span>(player[t][attacker].first&lt;=<span class="number">0</span>)</span><br><span class="line">        player[t].erase(player[t].begin()+attacker);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">process</span><span class="params">(<span class="keyword">int</span> t,<span class="built_in">string</span> temp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(temp == <span class="string">"summon"</span>)</span><br><span class="line">        summon(t);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (temp == <span class="string">"attack"</span> )</span><br><span class="line">        attack(t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">7</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            player[<span class="number">0</span>].push_back(make_pair(<span class="number">30</span>,<span class="number">0</span>));</span><br><span class="line">            player[<span class="number">1</span>].push_back(make_pair(<span class="number">30</span>,<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            player[<span class="number">0</span>].push_back(make_pair(<span class="number">0</span>,<span class="number">-1</span>));<span class="comment">//攻击力为-1区分</span></span><br><span class="line">            player[<span class="number">1</span>].push_back(make_pair(<span class="number">0</span>,<span class="number">-1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">int</span> temp_cnt =<span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">int</span> choose = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> temp_str;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;temp_str;</span><br><span class="line">        <span class="keyword">if</span>(temp_str == <span class="string">"end"</span>)</span><br><span class="line">            choose++;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            process(choose%<span class="number">2</span>,temp_str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(player[<span class="number">0</span>][<span class="number">0</span>].first&lt;=<span class="number">0</span>)<span class="comment">//输出胜负</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"-1\n"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(player[<span class="number">1</span>][<span class="number">0</span>].first&lt;=<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"1\n"</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"0\n"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> cnt[<span class="number">2</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)<span class="comment">//输出hp</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;player[i][<span class="number">0</span>].first&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;player[i].size();j++)<span class="comment">//计算多少个存活的</span></span><br><span class="line">            <span class="keyword">if</span>(player[i][j].first&gt;<span class="number">0</span>&amp;&amp;player[i][j].second&gt;=<span class="number">0</span>)<span class="comment">//攻击力大于等于0</span></span><br><span class="line">                cnt[i]++;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cnt[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;player[i].size();j++)</span><br><span class="line">            <span class="keyword">if</span>(player[i][j].first&gt;<span class="number">0</span>&amp;&amp;player[i][j].second&gt;=<span class="number">0</span>)<span class="comment">//输出随从</span></span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;player[i][j].first&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这道题难度不是很大，但是题面太长，容易抓不到关键信息，最后的约定非常重要，这里提供了很多信息。这道题一共交了2次第一次70，第一次因为初始化的问题出错，我把英雄的攻击力设为了-1，这导致英雄反击时随从的hp会出错，改了之后就过了</p>
<h2 id="元素选择器"><a href="#元素选择器" class="headerlink" title="元素选择器"></a>元素选择器</h2><h2 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h2><p>官方题面有点长，建议跳过</p>
<p><img src="http://118.190.20.162/RequireFile.do?fid=FH8TRMFr" alt="img"></p>
<p><img src="http://118.190.20.162/RequireFile.do?fid=6tGGttRh" alt="img"></p>
<p><img src="http://118.190.20.162/RequireFile.do?fid=3bTyJMHd" alt="img"></p>
<p>题面还是CSP经典风格，非常长加上一堆没用的背景介绍</p>
<p>简单的来说，现在给出一个BOM树，然后在这个树上按照给定的规则查询label和id，BOM树需要自己根据输入创建</p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>首先明确题目中几个问题</p>
<ul>
<li>多级匹配时除了最后一个，前面几个不要求严格的数据（匹配的序列只要是该节点所有父亲的一个子序列即可，不要求每一个都匹配）</li>
<li>题目中说多级匹配中只有一个格式（要么label，要么id）是错误的，评测中会出现label id同时存在的情况，因此写的时候要注意</li>
</ul>
<p><strong>解决方案：</strong></p>
<p>首先用一个数组存储顺序给出的每一行，存储其label和id。同时利用数组的下标使用vector按照给出的规则创建BOM树。创建树时使用栈存储每个节点的父节点（类似反向DFS），同时在新节点中记录其父节点</p>
<p>检索时首先遍历数组匹配最后一个关键词（根据其是id还是label进行不同的判断），匹配到后，找到其父节点向前匹配，匹配规则是只要祖先中有待检索的关键词就行，祖先中可能有几个匹配不到的。</p>
<p>单级和多级同理，只不过只匹配最后一个就行。</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> label;<span class="comment">//div p 这类东西</span></span><br><span class="line">    <span class="built_in">string</span> id;<span class="comment">//id #xxxx</span></span><br><span class="line">    <span class="keyword">int</span> father;<span class="comment">//父节点位置</span></span><br><span class="line">    node(<span class="built_in">string</span> l,<span class="built_in">string</span> i,<span class="keyword">int</span> f):label(l),id(i),father(f)</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    node()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">node data[<span class="number">105</span>];<span class="comment">//存储所有元素</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tree[<span class="number">105</span>];<span class="comment">//树结构</span></span><br><span class="line"><span class="built_in">stack</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt; root;<span class="comment">//创建树使用</span></span><br><span class="line"><span class="keyword">int</span> tot,cur;<span class="comment">//创建树的下标</span></span><br><span class="line"><span class="keyword">int</span> m,n;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;<span class="comment">//答案</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> temp_label,temp_id;<span class="comment">//新节点的label和id</span></span><br><span class="line"><span class="built_in">string</span> ops[<span class="number">105</span>];<span class="comment">//检索时所有的值</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getInfo</span><span class="params">()</span><span class="comment">//获取一行的输入，存储id时加上#</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> cur_label,cur_id;</span><br><span class="line">    <span class="keyword">char</span> tmp;</span><br><span class="line">    <span class="keyword">int</span> level =<span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">while</span>((tmp=getchar())==<span class="string">'.'</span>)<span class="comment">//计算.的个数 树的层级</span></span><br><span class="line">        level++;</span><br><span class="line">    <span class="keyword">while</span>(!(tmp==<span class="string">'\n'</span>||tmp == <span class="string">'#'</span>))<span class="comment">//存label</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(tmp == <span class="string">' '</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = getchar();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur_label+=tmp;</span><br><span class="line">        tmp = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(tmp!=<span class="string">'\n'</span>)<span class="comment">//存id</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="string">' '</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tmp = getchar();</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur_id+=tmp;</span><br><span class="line">        tmp=getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    temp_label=cur_label;</span><br><span class="line">    temp_id=cur_id;</span><br><span class="line">    <span class="keyword">return</span> level/<span class="number">2</span>;<span class="comment">//返回层级</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getOp</span><span class="params">()</span><span class="comment">//获取检索的对象 多级和一级的相同，都是存到ops中</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> tmp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">105</span>;i++)</span><br><span class="line">        ops[i].clear();</span><br><span class="line">    <span class="keyword">while</span>((tmp=getchar())!=<span class="string">'\n'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="string">' '</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ops[cnt]+=tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt+<span class="number">1</span>;<span class="comment">//级数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpStr</span><span class="params">(<span class="built_in">string</span>&amp; a,<span class="built_in">string</span>&amp; b)</span><span class="comment">//不区分大小写比较</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.length()!=b.length())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">int</span> len = a.length();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">tolower</span>(a[i])!=<span class="built_in">tolower</span>(b[i]))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> temp_num)</span><span class="comment">//检索</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ans.clear();<span class="comment">//存储答案</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="comment">//遍历整个树，从后向前找</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> flag =<span class="number">0</span>;<span class="comment">//最后一个是否相符</span></span><br><span class="line">        <span class="keyword">int</span> num = temp_num<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> cur = data[i].father;</span><br><span class="line">        <span class="keyword">if</span>(ops[temp_num<span class="number">-1</span>][<span class="number">0</span>] == <span class="string">'#'</span>)<span class="comment">//比较最后一个</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(data[i].id == ops[temp_num<span class="number">-1</span>])<span class="comment">//id</span></span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(cmpStr(data[i].label,ops[temp_num<span class="number">-1</span>]))<span class="comment">//label</span></span><br><span class="line">            flag =<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(flag)<span class="comment">//最后一个匹配，向前找，看看是否满足</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (num&gt;<span class="number">0</span>&amp;&amp;cur&gt;<span class="number">0</span>)<span class="comment">//ops全部相符 or 找到树的根</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(ops[num<span class="number">-1</span>][<span class="number">0</span>] == <span class="string">'#'</span>)<span class="comment">//id</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(ops[num<span class="number">-1</span>] == data[cur].id)<span class="comment">//匹配就移动ops的下标</span></span><br><span class="line">                        num--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span><span class="comment">//label</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(cmpStr(data[cur].label,ops[num<span class="number">-1</span>]))</span><br><span class="line">                        num--;</span><br><span class="line">                &#125;</span><br><span class="line">                cur = data[cur].father;<span class="comment">//树向上一级查找</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num ==<span class="number">0</span> )<span class="comment">//ops全部匹配</span></span><br><span class="line">                ans.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    getchar();</span><br><span class="line">    tot = <span class="number">1</span>;</span><br><span class="line">    root.push(make_pair(<span class="number">-1</span>,<span class="number">0</span>));<span class="comment">//用一个栈表示当前节点的父节点</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> level = getInfo();</span><br><span class="line">        <span class="keyword">while</span>(root.top().first&gt;=level)<span class="comment">//找到当前节点的父节点</span></span><br><span class="line">            root.pop();</span><br><span class="line">        pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; last = root.top();</span><br><span class="line">        data[tot] = node(temp_label,temp_id,last.second);<span class="comment">//插入新节点，second是父节点的下标</span></span><br><span class="line">        tree[last.second].push_back(tot);<span class="comment">//树</span></span><br><span class="line">        root.push(make_pair(last.first+<span class="number">1</span>,tot++));<span class="comment">//维护root</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> num = getOp();</span><br><span class="line">        find(num);</span><br><span class="line">        <span class="keyword">int</span> len = ans.size();</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;len&lt;&lt;<span class="string">" "</span>;<span class="comment">//输出个数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;len;t++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;ans[t]&lt;&lt;<span class="string">" "</span>;<span class="comment">//那一行</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>这道题交了好几次，主要原因是解法中的两个问题，一开始我理解的完全不对（但是这样我还有80分，感觉数据出水了），最后看有人说最后两个点是id和label都有，我稍微改了一下过了，但是题目中明明说</p>
<p><img src="https://i.loli.net/2020/06/09/JdnMPj2cATwDyk6.png" alt="image-20200609200403407"></p>
<p>感觉还是题目说的不清楚，总感觉有些问题</p>
<p>不过时间控制还不错，写了1h左右就有80分了，考试的时候感觉这个速度就可以，模拟题还是比较浪费时间</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/09/Program-week15-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/09/Program-week15-homework/" itemprop="url">Program-week15-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-09T18:34:28+08:00">
                2020-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week15-homework"><a href="#week15-homework" class="headerlink" title="week15-homework"></a>week15-homework</h1><h2 id="B-ZJM-与生日礼物（选做）"><a href="#B-ZJM-与生日礼物（选做）" class="headerlink" title="B - ZJM 与生日礼物（选做）"></a><a href="https://vjudge.net/problem/HDU-1305" target="_blank" rel="noopener">B - ZJM 与生日礼物（选做）</a></h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/09/zW4uneFw9oXMdpj.png" alt="image-20200609183949458.png"></p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/04/Program-week16-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/04/Program-week16-homework/" itemprop="url">Program-week16-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-04T23:25:32+08:00">
                2020-06-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week16-CSP"><a href="#week16-CSP" class="headerlink" title="week16-CSP"></a>week16-CSP</h1><h2 id="A-TT数鸭子"><a href="#A-TT数鸭子" class="headerlink" title="A - TT数鸭子"></a>A - TT数鸭子</h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/09/5kejCXzJ9HKmNVM.png" alt=""></p>
<p>数位计数,统计一个数中每一位上不同数字的个数</p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>直接把每一位分离,然后用个桶排就行了</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getDif</span><span class="params">(ll temp)</span><span class="comment">//统计</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(num,<span class="number">0</span>,<span class="keyword">sizeof</span>(num));</span><br><span class="line">    <span class="keyword">while</span>(temp)<span class="comment">//分离</span></span><br><span class="line">    &#123;</span><br><span class="line">        num[temp%<span class="number">10</span>] ++;</span><br><span class="line">        temp/=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(num[i]) cnt++;<span class="comment">//只要有就计数</span></span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    ll cur;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;k);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;cur);</span><br><span class="line">        <span class="keyword">if</span>(getDif(cur)&lt;k)<span class="comment">//总个数</span></span><br><span class="line">            cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,cnt);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>题目难度不大,不过题目的描述有点坑,k本身最大就是10</p>
<h2 id="B-ZJM要抵御宇宙射线"><a href="#B-ZJM要抵御宇宙射线" class="headerlink" title="B - ZJM要抵御宇宙射线"></a>B - ZJM要抵御宇宙射线</h2><h3 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/QYmHrq5kciC3yu8.png" alt="image-20200604233248190"></p>
<p>在一堆点中画一个圆,求出圆的最小半径的平方,圆心限制在给定的点上</p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>复杂度为O(n^2^)</p>
<p>每一个点都求与其他点的距离,然后找出最远的距离,然后从这些距离中找出最小的距离.</p>
<p>注意要注意一点,求得都是平方</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; &gt; posi;<span class="comment">//每一个点</span></span><br><span class="line"><span class="keyword">double</span> dis[<span class="number">1005</span>];<span class="comment">//每一个点的最大距离</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">double</span> cur_x,cur_y;</span><br><span class="line">    <span class="keyword">double</span> temp_min=<span class="number">4e18</span>;<span class="comment">//这个一定要开大!!!!! 平方!!!!!</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>,&amp;cur_x,&amp;cur_y);</span><br><span class="line">        posi.push_back(make_pair(cur_x,cur_y));</span><br><span class="line">    &#125;</span><br><span class="line">    sort(posi.begin(),posi.end());<span class="comment">//排序,因为输出要求从小到大</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;posi.size();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> cur_max = <span class="number">0</span>;<span class="comment">//当前节点的最远距离</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;posi.size();j++)</span><br><span class="line">            <span class="keyword">if</span>(i!=j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">double</span> x_dis = posi[i].first-posi[j].first;</span><br><span class="line">                <span class="keyword">double</span> y_dis = posi[i].second - posi[j].second;</span><br><span class="line">                <span class="keyword">double</span> temp_dis = <span class="built_in">pow</span>(x_dis,<span class="number">2</span>)+<span class="built_in">pow</span>(y_dis,<span class="number">2</span>);<span class="comment">//勾股,直接半径平方</span></span><br><span class="line">                <span class="keyword">if</span>(temp_dis&gt;cur_max)<span class="comment">//求最大</span></span><br><span class="line">                    cur_max = temp_dis;</span><br><span class="line">            &#125;</span><br><span class="line">        dis[i] = cur_max;<span class="comment">//记录</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ptr=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">if</span>(dis[i]&lt;temp_min)<span class="comment">//找最小的</span></span><br><span class="line">        &#123;</span><br><span class="line">            ptr = i;</span><br><span class="line">            temp_min = dis[i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2f %.2f\n"</span>,posi[ptr].first,posi[ptr].second);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2f"</span>,temp_min);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>这道题本身非常简单,但是这次还是没有拿全分,主要原因是temp_min开小了.后几个点的数据范围算出的平方已经到了e10,但是一开始只开了e7,导致错误,double能开非常大,毕竟IEEE754</p>
<h2 id="C-宇宙狗的危机"><a href="#C-宇宙狗的危机" class="headerlink" title="C - 宇宙狗的危机"></a>C - 宇宙狗的危机</h2><h3 id="题面-2"><a href="#题面-2" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/QeKlCTHaupUhzid.png" alt="image-20200604234553328"></p>
<p>找一个二叉搜索树,满足gcd条件</p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><blockquote>
<p>讲道理,完全想不到</p>
</blockquote>
<p>首先给出的序列是有序的,而二叉搜索树中序遍历的结果也是有序的,因此我们要做的就是在给定序列上反向中序遍历,方法是使用区间dp</p>
<p>最朴素的想法是dp[i][j][t],表示从i-j以t为根能建立满足条件的BST,但是这样做复杂度太高(大约O(n^4^)),因此需要压缩,这里给出的压缩方法是左右子树的方法.</p>
<p>dp[i][j][0]表示从i-j可以作为左子树,而这个左子树的根必然是j+1,同理dp[i][j][1]是右子树,根是i-1,这样复杂度能降到O(n^3^)，每次只需要判断这个区间能不能成为左子树或者右子树就可以了。</p>
<p>除此之外gcd的结果使用一个数组进行记录，这样能优化掉log n的复杂度。</p>
<p>这次为了方便使用自上而下的方法（记忆化DFS），常数可能大一些，但是基本复杂度应该是可以的，这样就能过了。</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> m,n;</span><br><span class="line"><span class="keyword">int</span> data[<span class="number">705</span>];<span class="comment">//原始数据</span></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">705</span>][<span class="number">705</span>][<span class="number">2</span>];<span class="comment">//左右子树</span></span><br><span class="line"><span class="keyword">int</span> g[<span class="number">705</span>][<span class="number">705</span>];<span class="comment">//gcd结果</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;<span class="keyword">return</span> b == <span class="number">0</span> ? a : gcd(b,a%b);&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs_check</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r, <span class="keyword">int</span> dir)</span><span class="comment">//0 左子树 1 右子树</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ans[l][r][dir]!=<span class="number">0</span>)   <span class="keyword">return</span> ans[l][r][dir];<span class="comment">//有结果直接返回</span></span><br><span class="line">    <span class="keyword">int</span> root;</span><br><span class="line">    <span class="keyword">if</span>(dir == <span class="number">0</span>)<span class="comment">//左子树还是右子树</span></span><br><span class="line">        root = r+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        root = l<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=l;i&lt;=r;i++)<span class="comment">//遍历区间，判断其是否是左(右)子树，两个条件，gcd&gt;1,区间本身是树</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(g[i][root]&gt;<span class="number">1</span>)<span class="comment">//能连接</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == l)<span class="comment">//边界单独处理</span></span><br><span class="line">            &#123;   </span><br><span class="line">                <span class="keyword">if</span>(ans[i+<span class="number">1</span>][r][<span class="number">1</span>]==<span class="number">0</span>)<span class="comment">//已存在就继续了</span></span><br><span class="line">                    ans[i+<span class="number">1</span>][r][<span class="number">1</span>]=dfs_check(i+<span class="number">1</span>,r,<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(ans[i+<span class="number">1</span>][r][<span class="number">1</span>]==<span class="number">1</span>)<span class="comment">//能成为子树</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i == r)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(ans[l][i<span class="number">-1</span>][<span class="number">0</span>]==<span class="number">0</span>)</span><br><span class="line">                    ans[l][i<span class="number">-1</span>][<span class="number">0</span>]=dfs_check(l,i<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(ans[l][i<span class="number">-1</span>][<span class="number">0</span>]==<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(ans[l][i<span class="number">-1</span>][<span class="number">0</span>]==<span class="number">0</span>)<span class="comment">//该区间本身能成为一棵树</span></span><br><span class="line">                    ans[l][i<span class="number">-1</span>][<span class="number">0</span>] = dfs_check(l,i<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(ans[i+<span class="number">1</span>][r][<span class="number">1</span>]==<span class="number">0</span>)</span><br><span class="line">                    ans[i+<span class="number">1</span>][r][<span class="number">1</span>] = dfs_check(i+<span class="number">1</span>,r,<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(ans[l][i<span class="number">-1</span>][<span class="number">0</span>]==<span class="number">1</span>&amp;&amp;ans[i+<span class="number">1</span>][r][<span class="number">1</span>]==<span class="number">1</span>)<span class="comment">//能成为树返回1</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//不能成为左右子树</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">call_dfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="comment">//从最顶层开始，遍历一遍，只要返回1就满足题目条件</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">1</span>)<span class="comment">//边界</span></span><br><span class="line">            flag = (ans[i+<span class="number">1</span>][n][<span class="number">1</span>]=dfs_check(i+<span class="number">1</span>,n,<span class="number">1</span>));<span class="comment">//一边判断一边记忆化</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(i==n)</span><br><span class="line">            flag = (ans[<span class="number">1</span>][i<span class="number">-1</span>][<span class="number">0</span>]=dfs_check(<span class="number">1</span>,i<span class="number">-1</span>,<span class="number">0</span>));</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//中间</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(((ans[<span class="number">1</span>][i<span class="number">-1</span>][<span class="number">0</span>]=dfs_check(<span class="number">1</span>,i<span class="number">-1</span>,<span class="number">0</span>))+(ans[i+<span class="number">1</span>][n][<span class="number">1</span>]=dfs_check(i+<span class="number">1</span>,n,<span class="number">1</span>)))==<span class="number">2</span>)</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,data+j);</span><br><span class="line">        <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));</span><br><span class="line">        <span class="built_in">memset</span>(g,<span class="number">0</span>,<span class="keyword">sizeof</span>(g));</span><br><span class="line">        data[<span class="number">0</span>]=data[<span class="number">1</span>],data[n+<span class="number">1</span>]=data[n];</span><br><span class="line">        ans[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] =<span class="number">1</span>;<span class="comment">//初始化边界，似乎可以不用</span></span><br><span class="line">        ans[n+<span class="number">1</span>][n+<span class="number">1</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=n+<span class="number">1</span>;j++)<span class="comment">//gcd情况</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;=n+<span class="number">1</span>;t++)</span><br><span class="line">                g[j][t] = gcd(data[j],data[t]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)<span class="comment">//初始化，区间只有一个的情况</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(g[j][j+<span class="number">1</span>]&gt;<span class="number">1</span>) ans[j][j][<span class="number">0</span>] =<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> ans[j][j][<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">if</span>(g[j][j<span class="number">-1</span>]&gt;<span class="number">1</span>) ans[j][j][<span class="number">1</span>] =<span class="number">1</span> ;</span><br><span class="line">            <span class="keyword">else</span> ans[j][j][<span class="number">1</span>] = <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(call_dfs())</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Yes\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"No\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>这道题在考场上没有想到使用dp的方法，我一直在想是不是先建一个图，然后在图上搜索一个二叉搜索树，然而这样根本行不通，甚至前几个暴力的分也弄到。比较核心的是二叉搜索树的中序遍历是有序的，给出的数据是有序的，因此应该从中序遍历的反过程去想。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/26/Program-week14-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/26/Program-week14-homework/" itemprop="url">Program-week14-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-26T23:46:32+08:00">
                2020-05-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week14-模拟"><a href="#week14-模拟" class="headerlink" title="week14-模拟"></a>week14-模拟</h1><h2 id="A-猫睡觉问题"><a href="#A-猫睡觉问题" class="headerlink" title="A - 猫睡觉问题"></a><a href="https://vjudge.net/problem/HDU-3700" target="_blank" rel="noopener">A - 猫睡觉问题</a></h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/31/XiVyC3oUI7PmM52.png" alt="image-20200531222815356.png"></p>
<p>一天内有时间段必须醒着,其他时间可以睡觉也可以醒着,但是连续醒着时间有限制,连续睡觉有最短时间限制,同时这个时间可能是跨天的(一个循环),求取睡觉的策略</p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>这道题的难点主要在于跨天的时间管理和题意理解(存在一种特殊情况)</p>
<p>对于跨天的时间管理,我们采取模的策略,每天开始的时间不是0点,而是第一个出现的时间点.这样无论跨不跨天都是按24小时算.(相当于画了个圈,只不过把起始点换了一下)</p>
<p><strong>特殊情况:</strong></p>
<p>这个一开始没想到</p>
<p>就是一天全部都要醒着,导致根本没有睡觉时间,应该输出个No,但是第一次的代码输出了Yes,然后没输出时间.</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//使用环</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">timeSeg</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> s;<span class="comment">//存分钟数</span></span><br><span class="line">    <span class="keyword">int</span> e;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (timeSeg&amp; op) <span class="keyword">const</span> <span class="comment">//优先队列</span></span><br><span class="line">    &#123;<span class="keyword">return</span> s&lt;op.s;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &gt;(<span class="keyword">const</span> timeSeg&amp; op) <span class="keyword">const</span></span><br><span class="line">    &#123;<span class="keyword">return</span> s&gt;op.s;&#125;</span><br><span class="line">    timeSeg()</span><br><span class="line">    &#123;s=<span class="number">0</span>;e=<span class="number">0</span>;&#125;</span><br><span class="line">    timeSeg(<span class="keyword">int</span> a,<span class="keyword">int</span> b):s(a),e(b)</span><br><span class="line">    &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">priority_queue&lt;timeSeg,<span class="built_in">vector</span>&lt;timeSeg&gt;,greater&lt;timeSeg&gt; &gt; timeTable;<span class="comment">//这个存必须醒着的时间,按顺序排</span></span><br><span class="line"><span class="built_in">vector</span>&lt;timeSeg&gt; sp;<span class="comment">//存输出结果,睡觉的时间</span></span><br><span class="line"><span class="keyword">int</span> A,B,N;<span class="comment">//初始需要的三个参数</span></span><br><span class="line"><span class="keyword">int</span> weekTime;<span class="comment">//连续醒的时间</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">process</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    timeSeg firstTime = timeTable.top();<span class="comment">//循环的情况</span></span><br><span class="line">    weekTime = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!timeTable.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        timeSeg nextTime;<span class="comment">//两个醒时间段之间</span></span><br><span class="line">        timeSeg curTime = timeTable.top();</span><br><span class="line">        timeTable.pop();</span><br><span class="line">        <span class="keyword">if</span>(!timeTable.empty())</span><br><span class="line">            nextTime=timeTable.top();</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            nextTime.s =firstTime.s+<span class="number">24</span>*<span class="number">60</span>;<span class="comment">//两天的交接处</span></span><br><span class="line">            nextTime.e = firstTime.e+<span class="number">24</span>*<span class="number">60</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        weekTime+=curTime.e-curTime.s+<span class="number">1</span>;<span class="comment">//醒着的时间</span></span><br><span class="line">        <span class="keyword">if</span>(weekTime&gt;B*<span class="number">60</span>)<span class="comment">//超过了限制</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(nextTime.s-curTime.e<span class="number">-1</span>&gt;=A*<span class="number">60</span>)<span class="comment">//看看两个之间的空隙能不能睡觉</span></span><br><span class="line">        &#123;</span><br><span class="line">            weekTime = <span class="number">0</span>;</span><br><span class="line">            sp.push_back(timeSeg(curTime.e+<span class="number">1</span>,nextTime.s<span class="number">-1</span>));<span class="comment">//睡觉时间</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            weekTime+=nextTime.s-curTime.e<span class="number">-1</span>;<span class="comment">//不能睡,继续醒着</span></span><br><span class="line">        <span class="keyword">if</span>(weekTime&gt;B*<span class="number">60</span>)<span class="comment">//超过限制</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sp.size()==<span class="number">0</span>)<span class="comment">//这个是针对一天都要醒着,(两天连续必然不行)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Yes\n"</span>);<span class="comment">//输出结果</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,sp.size());</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;timeSeg&gt;::iterator it=sp.begin();it!=sp.end();it++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> s=(*it).s%(<span class="number">24</span>*<span class="number">60</span>);</span><br><span class="line">        <span class="keyword">int</span> e=(*it).e%(<span class="number">24</span>*<span class="number">60</span>);</span><br><span class="line">        <span class="keyword">int</span> a=s/<span class="number">60</span>,b=s%<span class="number">60</span>,c=e/<span class="number">60</span>,d=e%<span class="number">60</span>;<span class="comment">//时间转换</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%02d:%02d-%02d:%02d\n"</span>,a,b,c,d);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;A,&amp;B,&amp;N)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        weekTime=<span class="number">0</span>;</span><br><span class="line">        sp.clear();</span><br><span class="line">        <span class="keyword">while</span> (!timeTable.empty())</span><br><span class="line">            timeTable.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a,b,c,d;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d:%d-%d:%d"</span>,&amp;a,&amp;b,&amp;c,&amp;d);</span><br><span class="line">            <span class="keyword">if</span>(a&gt;c)</span><br><span class="line">                c+=<span class="number">24</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a==c&amp;&amp;b&gt;d)</span><br><span class="line">                c+=<span class="number">24</span>;</span><br><span class="line">            timeTable.push(timeSeg(a*<span class="number">60</span>+b,c*<span class="number">60</span>+d));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(N==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Yes\n1\n00:00-23:59\n"</span>);<span class="comment">//针对没有输入的情况</span></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(process())</span><br><span class="line">            output();</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"No\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这道题难点主要在于两天之间的交接,使用模的方法比较容易解决,但是有一个比较难想的特殊情况是每天都不能睡觉,这个会导致连续的情况,进而无法满足条件.</p>
<h1 id="week14-homework"><a href="#week14-homework" class="headerlink" title="week14-homework"></a>week14-homework</h1><h2 id="A-Q老师与石头剪刀布（必做）"><a href="#A-Q老师与石头剪刀布（必做）" class="headerlink" title="A - Q老师与石头剪刀布（必做）"></a><a href="https://vjudge.net/problem/CodeForces-1245B" target="_blank" rel="noopener">A - Q老师与石头剪刀布（必做）</a></h2><h3 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/01/wFbrVy1cNMYKosQ.png" alt="image-20200601152945277"></p>
<p>还是剪刀石头布游戏,但是规则有些变化,因为要求求出一个制胜策略</p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>首先这个道题每次比赛只有两种情况,赢或者不赢(包括输和平局),因此采取最简单的贪心策略,每次对方出一个招式,首先采取能赢它的方法,如果不能赢,通过标记位标记,最后输出时把标记输出为没有使用的招式</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//将三个字母转换为数字</span></span><br><span class="line"><span class="keyword">int</span> t;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> Q[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> data[<span class="number">200</span>];<span class="comment">//输出的数据</span></span><br><span class="line"><span class="keyword">int</span> c2i[<span class="number">200</span>];<span class="comment">//char to int</span></span><br><span class="line"><span class="keyword">char</span> i2c[<span class="number">3</span>];<span class="comment">//int to char</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> data_temp = c2i[data[i]];</span><br><span class="line">        <span class="keyword">if</span>(Q[(data_temp+<span class="number">1</span>)%<span class="number">3</span>]&gt;<span class="number">0</span>)<span class="comment">//+1就是能赢他的招式</span></span><br><span class="line">        &#123;</span><br><span class="line">            data[i] = i2c[(data_temp+<span class="number">1</span>)%<span class="number">3</span>];</span><br><span class="line">            Q[(data_temp+<span class="number">1</span>)%<span class="number">3</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            data[i] = <span class="string">'Z'</span>;<span class="comment">//标志位</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> lose = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">        lose+=Q[i];<span class="comment">//计算总共输的次数</span></span><br><span class="line">    <span class="keyword">if</span>((n-lose)*<span class="number">2</span>&gt;=n)<span class="comment">//赢得次数符合规定</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">if</span>(data[i]==<span class="string">'Z'</span>)<span class="comment">//标志位</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;j++)</span><br><span class="line">                    <span class="keyword">if</span>(Q[j]&gt;<span class="number">0</span>)<span class="comment">//输出第一个没有被用完的</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%c"</span>,i2c[j]);</span><br><span class="line">                        Q[j]--;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%c"</span>,data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"NO"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    c2i[<span class="string">'R'</span>]=<span class="number">0</span>,c2i[<span class="string">'P'</span>]=<span class="number">1</span>,c2i[<span class="string">'S'</span>]=<span class="number">2</span>;<span class="comment">//字符转换</span></span><br><span class="line">    i2c[<span class="number">0</span>]=<span class="string">'R'</span>,i2c[<span class="number">1</span>]=<span class="string">'P'</span>,i2c[<span class="number">2</span>]=<span class="string">'S'</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,Q+i);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%c"</span>,data+i);</span><br><span class="line">        output();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>这道题升级了一下，需要输出每次操作，一开始设计的有点问题，把胜负判断和出拳策略分开了，导致出拳策略会出现问题（主要还是输和平局在这里一样，我那个方法下会使得输和平局的出拳是随机的，然后不对）。</p>
<h2 id="B-Q老师与十字叉（必做）"><a href="#B-Q老师与十字叉（必做）" class="headerlink" title="B - Q老师与十字叉（必做）"></a><a href="https://vjudge.net/problem/CodeForces-1194B" target="_blank" rel="noopener">B - Q老师与十字叉（必做）</a></h2><h3 id="题面-2"><a href="#题面-2" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/01/3ermkKLcuaC1EGd.png" alt="image-20200601153925213"></p>
<p>这是一道画图的题,规则就是横竖方向上各画一条线,求一下最少需要画几个块</p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>这道题一开始复杂度看错了,直接傻了,空间爆炸</p>
<p><img src="https://i.loli.net/2020/06/01/CEJ86NnLeksMbPI.png" alt="image-20200601154143569"></p>
<p>这里对总的数据量进行了控制,因此开数组还是能存下的,使用vector就没有空间的烦恼了</p>
<p>策略还是贪心,找出一行和一列中最大黑色块的哪一行或者列(可能多个),然后遍历所有情况,减去重叠块后算出需要的最少块</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> col[<span class="number">50005</span>];<span class="comment">//一列中黑色块的个数</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; board[<span class="number">50005</span>];<span class="comment">//棋盘</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; col_index;<span class="comment">//最多黑色块的列号</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; row_index;<span class="comment">//最多黑色块的行号</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> q;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;q);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;q;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        col_index.clear();</span><br><span class="line">        row_index.clear();</span><br><span class="line">        <span class="keyword">int</span> m,n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;m;t++)</span><br><span class="line">            col[t] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;n;t++)</span><br><span class="line">            board[t].clear();</span><br><span class="line">        <span class="keyword">int</span> row_max=<span class="number">0</span>,col_max=<span class="number">0</span>;<span class="comment">//最多黑色块数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> q=<span class="number">0</span>;q&lt;n;q++)<span class="comment">//一行一行遍历</span></span><br><span class="line">        &#123;   </span><br><span class="line">            <span class="keyword">int</span> black=<span class="number">0</span>;<span class="comment">//这一行中黑色块的个数</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>;p&lt;m;p++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">char</span> temp;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;temp);</span><br><span class="line">                board[q].push_back(temp);</span><br><span class="line">                <span class="keyword">if</span>(board[q][p] == <span class="string">'*'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    black++;</span><br><span class="line">                    col[p]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">if</span>(black==row_max)<span class="comment">//记录</span></span><br><span class="line">                row_index.push_back(q);</span><br><span class="line">            <span class="keyword">if</span>(black&gt;row_max)</span><br><span class="line">            &#123;</span><br><span class="line">                row_max = black;</span><br><span class="line">                row_index.clear();<span class="comment">//发生改变后之前的就无效了</span></span><br><span class="line">                row_index.push_back(q);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;m;t++)<span class="comment">//一列中最多的黑色块数</span></span><br><span class="line">            <span class="keyword">if</span>(col[t] == col_max)</span><br><span class="line">                col_index.push_back(t);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(col[t]&gt;col_max)</span><br><span class="line">            &#123;</span><br><span class="line">                col_index.clear();</span><br><span class="line">                col_max=col[t];</span><br><span class="line">                col_index.push_back(t);</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">int</span> min_time = <span class="number">10000000</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> p:col_index)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> q:row_index)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> cur=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span>(board[q][p]==<span class="string">'.'</span>)<span class="comment">//判断重合点</span></span><br><span class="line">                    cur = (n-col_max)+(m-row_max)<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">else</span> </span><br><span class="line">                    cur = (n-col_max)+(m-row_max);</span><br><span class="line">                <span class="keyword">if</span>(min_time&gt;cur)</span><br><span class="line">                    min_time=cur;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,min_time);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="C-Q老师的考验（必做）"><a href="#C-Q老师的考验（必做）" class="headerlink" title="C - Q老师的考验（必做）"></a><a href="https://vjudge.net/problem/HDU-1757" target="_blank" rel="noopener">C - Q老师的考验（必做）</a></h2><h3 id="题面-3"><a href="#题面-3" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/01/VEmSfMcvUQLR5e1.png" alt="image-20200601155642813"></p>
<p>线性递推式+快速幂</p>
<p><img src="https://i.loli.net/2020/06/02/U6n4RAqtYMWc5XP.png" alt="8320BA217D9BBA25A60EF121D05EC4A2"></p>
<h3 id="解法-3"><a href="#解法-3" class="headerlink" title="解法"></a>解法</h3><p>矩阵快速幂+线性递推式</p>
<p>code</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span>  <span class="title">matrix</span>  //矩阵</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x[<span class="number">20</span>][<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> n;<span class="comment">//维数</span></span><br><span class="line">    <span class="keyword">int</span> mod;<span class="comment">//模</span></span><br><span class="line">    matrix <span class="keyword">operator</span> *(<span class="keyword">const</span> matrix&amp; t) <span class="keyword">const</span><span class="comment">//乘法</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">matrix <span class="title">ret</span><span class="params">(n,mod)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                ret.x[i][j] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;n;k++)</span><br><span class="line">                    ret.x[i][j]=(ret.x[i][j]+(<span class="number">1l</span>l*x[i][k]*t.x[k][j])%mod)%mod;<span class="comment">//保证取模</span></span><br><span class="line">                ret.x[i][j] = ret.x[i][j]%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">    matrix(<span class="keyword">int</span> n,<span class="keyword">int</span> mod):n(n),mod(mod)</span><br><span class="line">    &#123;<span class="built_in">memset</span>(x,<span class="number">0</span>,<span class="keyword">sizeof</span>(x));&#125;</span><br><span class="line">    matrix(<span class="keyword">const</span> matrix&amp; t)&#123;<span class="built_in">memcpy</span>(x,t.x,<span class="keyword">sizeof</span>(x));n=t.n;mod=t.mod;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">matrix <span class="title">pow</span><span class="params">(matrix&amp; t,<span class="keyword">int</span> time)</span><span class="comment">//快速幂</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">matrix <span class="title">ans</span><span class="params">(t.n,t.mod)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ans.n;i++)</span><br><span class="line">        ans.x[i][i] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(time)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(time&amp;<span class="number">1</span>)</span><br><span class="line">            ans = ans*t;</span><br><span class="line">        t=t*t;</span><br><span class="line">        time = time&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k,m;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;k,&amp;m)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,a+i);</span><br><span class="line">        <span class="function">matrix <span class="title">temp</span><span class="params">(<span class="number">10</span>,m)</span></span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)<span class="comment">//初始化矩阵</span></span><br><span class="line">            temp.x[<span class="number">0</span>][i] = a[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">            temp.x[i][i<span class="number">-1</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(k&lt;<span class="number">10</span>)<span class="comment">//可以直接输出</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,k);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        matrix t = <span class="built_in">pow</span>(temp,k<span class="number">-9</span>);<span class="comment">//使用线性递推</span></span><br><span class="line">        <span class="keyword">int</span> ans =<span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">            ans = (ans + t.x[<span class="number">0</span>][i]*(<span class="number">9</span>-i))%m;<span class="comment">//运算最后的结果</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>这类题得先看复杂度,根据复杂度可以判断使用什么算法,快速幂的复杂度在log级别速度很快.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/26/Program-week13-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/26/Program-week13-homework/" itemprop="url">Program-week13-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-26T23:46:05+08:00">
                2020-05-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week13-homework"><a href="#week13-homework" class="headerlink" title="week13-homework"></a>week13-homework</h1><h2 id="A-TT-的神秘任务1（必做）"><a href="#A-TT-的神秘任务1（必做）" class="headerlink" title="A - TT 的神秘任务1（必做）"></a><a href="https://vjudge.net/problem/CodeForces-1352B" target="_blank" rel="noopener">A - TT 的神秘任务1（必做）</a></h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/RwL7rM2IgGlaSkd.png" alt="image-20200526235147665"></p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>这道题考察了一些基本的数学知识.</p>
<p>首先核心就是 奇数+奇数=偶数 偶数+偶数=奇数 奇数+偶数=奇数</p>
<p>然后还一个就是经常忘的情况,0是偶数,(虽然这个题要求从1开始)</p>
<p>解题思路就是偶数情况,前k-1个数为2,最后一个数(n-2k+2)要求是偶数</p>
<p>奇数情况前k-1个数是1,最后一个数(n-k+1)要求是奇数</p>
<p>如果这两种情况都不能满足那么说明不能满足</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line"><span class="keyword">int</span> k;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;data,&amp;k);</span><br><span class="line">        <span class="keyword">if</span>((data<span class="number">-2</span>*k+<span class="number">2</span>)&gt;<span class="number">0</span>&amp;&amp;(data<span class="number">-2</span>*k+<span class="number">2</span>)%<span class="number">2</span>==<span class="number">0</span>)<span class="comment">//偶数情况,需要判断大于0</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;k<span class="number">-1</span>;t++)<span class="comment">//先输出2</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"2 "</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,(data<span class="number">-2</span>*k+<span class="number">2</span>));<span class="comment">//最后一个偶数</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>((data-k+<span class="number">1</span>)&gt;<span class="number">0</span>&amp;&amp;(data-k+<span class="number">1</span>)%<span class="number">2</span>==<span class="number">1</span>)<span class="comment">//奇数情况</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;k<span class="number">-1</span>;t++)<span class="comment">//先输出1</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"1 "</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,data-k+<span class="number">1</span>);<span class="comment">//最后一个奇数</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//不能满足</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>奇偶判断，感觉比较简单</p>
<h2 id="B-TT-的神秘任务2（必做）"><a href="#B-TT-的神秘任务2（必做）" class="headerlink" title="B - TT 的神秘任务2（必做）"></a><a href="https://vjudge.net/problem/CodeForces-1352C" target="_blank" rel="noopener">B - TT 的神秘任务2（必做）</a></h2><h3 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/fa4clkqCHErIwmv.png" alt="image-20200527083657055"></p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>这道题采用二分的方法,复杂度O(log n)</p>
<p>二分的方法与之前课上的例题类似,二分查找第一个满足无法整除次数的数.</p>
<p>这道题的两个数据范围都1e9开始,但是对于二分而言,最大值肯定是超了int了,因此使用long long</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> n,k;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">findCount</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> num)</span><span class="comment">//计算出num是第几个无法被n整除的数,同时比较其与指定个数的大小</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> tt = num-(num/n);</span><br><span class="line">    <span class="keyword">return</span> tt&gt;=k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> m=<span class="number">0</span>;m&lt;t;m++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;n,&amp;k);</span><br><span class="line">        <span class="keyword">if</span>(n&gt;k)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,k);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> l=<span class="number">1</span>;<span class="comment">//会超int</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> r=LLONG_MAX;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(r&gt;=l)<span class="comment">//二分查找</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(findCount(mid))<span class="comment">//向左</span></span><br><span class="line">            &#123;</span><br><span class="line">                ans=mid;</span><br><span class="line">                r=mid<span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="comment">//向右</span></span><br><span class="line">                l=mid+<span class="number">1</span>;</span><br><span class="line">            mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>重新复习一下二分查找</p>
<h2 id="C-TT-的奖励（必做）"><a href="#C-TT-的奖励（必做）" class="headerlink" title="C - TT 的奖励（必做）"></a><a href="https://vjudge.net/problem/HDU-1176" target="_blank" rel="noopener">C - TT 的奖励（必做）</a></h2><h3 id="题面-2"><a href="#题面-2" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/5VYIpDm7uOTPqrF.png" alt="image-20200527090040159"></p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>这道题采用dp的方法求解,复杂度大约为O(m)</p>
<p>我们dp状态设为二维,dp[i][j]表示第i秒再第j个位置上能获得最大猫咪数</p>
<p>初始状态dp[0][0..10] = 0.</p>
<p>状态转移分为两种状态,第一个是在初始几秒,移动范围受限,这时只更新能够移动到的范围,第二种就是全局都能移动到</p>
<p>dp[i][j] = max(dp[i-1][j],dp[i-1][j-1],dp[i-1][j+1])+data[i][j]</p>
<p>同时处理好边界的关系,在0处和10处进行特判</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">100005</span>][<span class="number">15</span>];<span class="comment">//存储dp结果</span></span><br><span class="line"><span class="keyword">int</span> data[<span class="number">100005</span>][<span class="number">15</span>];<span class="comment">//存储每一秒当前位置上的猫数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(m==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));</span><br><span class="line">        <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">        <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a,b;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;b);</span><br><span class="line">            data[b][a]++;<span class="comment">//计数</span></span><br><span class="line">            <span class="keyword">if</span>(b&gt;t)<span class="comment">//最大秒数</span></span><br><span class="line">                t=b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> l = <span class="number">5</span>-t&lt;<span class="number">0</span>?<span class="number">0</span>:<span class="number">5</span>-t;<span class="comment">//主要是因为一开始限制边界的范围</span></span><br><span class="line">            <span class="keyword">int</span> r = <span class="number">5</span>+t&gt;<span class="number">10</span>?<span class="number">10</span>:<span class="number">5</span>+t;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=l;j&lt;=r;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j==<span class="number">0</span>)<span class="comment">//在0处和10处需要特判</span></span><br><span class="line">                    ans[i][j] = max(ans[i<span class="number">-1</span>][<span class="number">0</span>],ans[i<span class="number">-1</span>][<span class="number">1</span>])+data[i][j];</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(j==<span class="number">10</span>)</span><br><span class="line">                    ans[i][j] = max(ans[i<span class="number">-1</span>][<span class="number">9</span>],ans[i<span class="number">-1</span>][<span class="number">10</span>])+data[i][j];</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    ans[i][j] = max(max(ans[i<span class="number">-1</span>][j],ans[i<span class="number">-1</span>][j<span class="number">-1</span>]),ans[i<span class="number">-1</span>][j+<span class="number">1</span>])+data[i][j];<span class="comment">//转移方程</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> cur_max=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">10</span>;i++)<span class="comment">//取最后一秒最大的值</span></span><br><span class="line">            <span class="keyword">if</span>(ans[t][i]&gt;cur_max)</span><br><span class="line">                cur_max = ans[t][i];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,cur_max);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>注意一开始的移动范围，只能从中间开始。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/14/Program-week12-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/14/Program-week12-homework/" itemprop="url">Program-week12-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-14T23:31:30+08:00">
                2020-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week12-CSP"><a href="#week12-CSP" class="headerlink" title="week12-CSP"></a>week12-CSP</h1><h2 id="A-csp-m3-t1"><a href="#A-csp-m3-t1" class="headerlink" title="A - csp-m3-t1"></a><a href="https://vjudge.net/problem/Gym-270437L" target="_blank" rel="noopener">A - csp-m3-t1</a></h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/15/XJvMkAsDYj3IwL1.png" alt=""></p>
<p>这个求相同元素区间的个数,之前做过,但是还是做错了</p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>简单的计数就行了</p>
<p>一定要注意指针超界问题,这次就是因为这个原因被RE了</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data [<span class="number">10000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,data+i);</span><br><span class="line">    <span class="keyword">int</span> pre=data[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> cnt =<span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(pre == data[i])</span><br><span class="line">            <span class="keyword">if</span>(++i&gt;n)<span class="comment">//避免指针超界</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        cnt++;</span><br><span class="line">        pre = data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,cnt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面这个实现更好一些</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data [<span class="number">10000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,data+i);</span><br><span class="line">    <span class="keyword">int</span> pre=data[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">1</span>;<span class="comment">//因为最后一个不会被算入,提前+1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)<span class="comment">//保证不越界</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(pre == data[i])</span><br><span class="line">            <span class="keyword">continue</span> ;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cnt++;<span class="comment">//遇到新的+1</span></span><br><span class="line">            pre =data[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,cnt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这题真的是不该错,实在是太简单了,一开始写的是对的,后来瞎改,把i&lt;n的条件给去掉了,导致一个点re</p>
<h2 id="B-csp-m3-t2"><a href="#B-csp-m3-t2" class="headerlink" title="B - csp-m3-t2"></a><a href="https://vjudge.net/problem/Gym-270437N" target="_blank" rel="noopener">B - csp-m3-t2</a></h2><h3 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/15/EMiVyYg2opreqnc.png" alt=""></p>
<p>只在x和y轴方向上的连连看</p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>这道题和上一道处理有相似的地方,就是求取元素相同的连续区间</p>
<p>使用两个数组chess存储原始输入的棋盘,ans存储将对应元素置0后的新棋盘</p>
<p>首先在x轴方向上一行一行的遍历整个chess,遇到连续3个及以上相同元素的地方直接将ans对应位置置0,其他位置和chess相同,保持不变</p>
<p>然后在y轴上执行相同操作,但是如果ans[i][j] == 0 那么就不更新了ans了</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> chess[<span class="number">40</span>][<span class="number">40</span>];<span class="comment">//原始输入的棋盘</span></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">40</span>][<span class="number">40</span>];<span class="comment">//输出答案的棋盘</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(chess,<span class="number">0</span>,<span class="keyword">sizeof</span>(chess));</span><br><span class="line">    <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;chess[i][j]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)<span class="comment">//x轴方向</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> be=j,ed =j;</span><br><span class="line">            <span class="keyword">while</span>(chess[i][be] == chess[i][ed+<span class="number">1</span>])<span class="comment">//其实这个地方也是可能会有RE的,不过因为输入没有0,所有无RE</span></span><br><span class="line">                ed++;</span><br><span class="line">            <span class="keyword">if</span>(ed-be+<span class="number">1</span>&gt;=<span class="number">3</span>)<span class="comment">//连续位置改为0</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> t=be;t&lt;=ed;t++)</span><br><span class="line">                    ans[i][t] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span><span class="comment">//原值</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> t=be;t&lt;=ed;t++)</span><br><span class="line">                    ans[i][t] = chess[i][t];</span><br><span class="line">            j = ed;<span class="comment">//更新新的起始位置</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> be = i,ed=i;</span><br><span class="line">            <span class="keyword">while</span>(chess[be][j] == chess[ed+<span class="number">1</span>][j])</span><br><span class="line">                ed++;</span><br><span class="line">            <span class="keyword">if</span>(ed-be+<span class="number">1</span>&gt;=<span class="number">3</span>)</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> t=be;t&lt;=ed;t++)</span><br><span class="line">                    <span class="keyword">if</span>(ans[t][j])</span><br><span class="line">                        ans[t][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> t=be;t&lt;=ed;t++)</span><br><span class="line">                    <span class="keyword">if</span>(ans[t][j])<span class="comment">//只更新不是0的地方</span></span><br><span class="line">                        ans[t][j] = chess[t][j];</span><br><span class="line">            i = ed;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>,ans[i][j]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>这道题是简单的模拟,没有什么难度</p>
<h2 id="C-csp-m3-t4"><a href="#C-csp-m3-t4" class="headerlink" title="C - csp-m3-t4"></a><a href="https://vjudge.net/problem/Gym-270437M" target="_blank" rel="noopener">C - csp-m3-t4</a></h2><h3 id="题面-2"><a href="#题面-2" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/15/8tOD4EiHL3odCvW.png" alt=""></p>
<p>这道题还是挺绕的,首先它定义了两个东西</p>
<p>Delicious和回文子串,Delicious要求串中所有元素都包含在回文子串中.</p>
<p>问题求取的是大的串有多少个Delicious子串</p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>这道题在赛场上直接想偏了,一开始看到了回文串,立即想到了dp,结果想了1h也没想明白怎么dp</p>
<p>正解是求出不符合规则的,然后减去</p>
<p>首先我们可以观察到ABBBBB……和AAAAAA….B是不符合Delicious规则的子串,实际上也只有两种形式不符合规则,因此我们先求出所有的子串有多少个,然后减去就可以了.</p>
<p>求这两种形式的形式子串的数量和之前求相同元素区间是差不多的,</p>
<p>首先求出每一个相同元素区间长度, AAAAABBBBAAAAA 分别是5 4 5 ,然后对于1个区间,其左右第一个元素必然是和它本身是不一样的,满足上述的两种形式,假设区间长度为t,则这个区间拥有2*t个不满足条件的子串</p>
<p>最后,因为起始的区间和结束的区间没有左右元素,因此需要减去,其中AB BA会被去掉2次,需要加回来</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> sum[<span class="number">300005</span>];<span class="comment">//每一个区间的长度</span></span><br><span class="line"><span class="built_in">string</span> data;<span class="comment">//输入的序列</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="keyword">sizeof</span>(sum));</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> cnt=<span class="number">0</span>,temp_cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> repeat;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;n);</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;data;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> maxCount = (n<span class="number">-1</span>)*n/<span class="number">2</span>;<span class="comment">//总子串个数</span></span><br><span class="line">    <span class="keyword">char</span> cur=data[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,t=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(cur == data[i])</span><br><span class="line">            <span class="keyword">if</span>(++i&gt;n)<span class="comment">//避免re</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                temp_cnt++;<span class="comment">//+1</span></span><br><span class="line">        cur = data[i];</span><br><span class="line">        sum[t++] = temp_cnt;<span class="comment">//这一个区间的长度</span></span><br><span class="line">        temp_cnt=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;t;j++)</span><br><span class="line">        cnt+=sum[j]*<span class="number">2</span>;<span class="comment">//总的不是delicious的子串数量</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;maxCount-(cnt-sum[<span class="number">0</span>]-sum[t<span class="number">-1</span>]-(t<span class="number">-1</span>))&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//修正多去掉的</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>这道题感觉还是有点难想,如果观察不到规律的话,很难想出使用减法来做,如果用暴力的话,只能拿前几个点的分</p>
<h1 id="week12-homework"><a href="#week12-homework" class="headerlink" title="week12-homework"></a>week12-homework</h1><h2 id="A-必做题-1"><a href="#A-必做题-1" class="headerlink" title="A - 必做题 - 1"></a><a href="https://vjudge.net/problem/HDU-1029" target="_blank" rel="noopener">A - 必做题 - 1</a></h2><h3 id="题面-3"><a href="#题面-3" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/OQaLfWKXMuTC35A.png" alt="image-20200604142440323"></p>
<p>统计一个数字出现的次数</p>
<h3 id="解法-3"><a href="#解法-3" class="headerlink" title="解法"></a>解法</h3><p>使用类似桶排的思想(注意直接使用数组要看数据范围),data[i]表示i出现的次数</p>
<p>也可以使用map,这样不用担心数据范围的问题</p>
<h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> data[<span class="number">1000005</span>];<span class="comment">//计数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> cur = (n+<span class="number">1</span>)/<span class="number">2</span>;<span class="comment">//计数条件</span></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">        <span class="keyword">int</span> temp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;temp);</span><br><span class="line">            <span class="keyword">if</span>(++data[temp]==cur)<span class="comment">//计数</span></span><br><span class="line">                ans = temp;            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);<span class="comment">//输出结果</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="B-必做题-2"><a href="#B-必做题-2" class="headerlink" title="B - 必做题 - 2"></a><a href="https://vjudge.net/problem/POJ-2251" target="_blank" rel="noopener">B - 必做题 - 2</a></h2><h3 id="题面-4"><a href="#题面-4" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/yikvJKShIz7VusF.png" alt="image-20200604143023866"></p>
<p>题面描述一个三维空间中的迷宫,然后找出最短路</p>
<h3 id="解法-4"><a href="#解法-4" class="headerlink" title="解法"></a>解法</h3><p>这个是一个三维空间的BFS</p>
<p>采取传统的BFS方法即可</p>
<p>标记经过的点和记录到该点的最短距离可以复用地图的矩阵</p>
<h3 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">posi</span> //三个方向上的坐标</span></span><br><span class="line"><span class="class">&#123;</span>   </span><br><span class="line">    <span class="keyword">int</span> z;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> == (<span class="keyword">const</span> posi&amp; op) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> z==op.z&amp;&amp;x==op.x&amp;&amp;y==op.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">posi startP,endP;<span class="comment">//起始点和终点</span></span><br><span class="line"><span class="keyword">int</span> L,R,C;<span class="comment">//三维空间的大小</span></span><br><span class="line"><span class="keyword">int</span> cubic[<span class="number">32</span>][<span class="number">32</span>][<span class="number">32</span>];<span class="comment">//存储三维空间的矩阵</span></span><br><span class="line"><span class="keyword">int</span> dirZ[]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;<span class="comment">//6个方向</span></span><br><span class="line"><span class="keyword">int</span> dirX[]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dirY[]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">const</span> posi cur)</span><span class="comment">//检查是否能到达该点</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur.z&lt;<span class="number">0</span>||cur.z&gt;=L)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(cur.x&lt;<span class="number">0</span>||cur.x&gt;=R)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(cur.y&lt;<span class="number">0</span>||cur.y&gt;=C)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(cubic[cur.z][cur.x][cur.y]!=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//可以</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs_dect</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;posi&gt; q;<span class="comment">//BFS队列</span></span><br><span class="line">    cubic[startP.z][startP.x][startP.y] = <span class="number">1</span>;</span><br><span class="line">    q.push(startP);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        posi cur_posi=q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)<span class="comment">//6个方向上搜索</span></span><br><span class="line">        &#123;</span><br><span class="line">            posi newPoint = &#123;cur_posi.z+dirZ[i],cur_posi.x+dirX[i],cur_posi.y+dirY[i]&#125;;<span class="comment">//到达的点</span></span><br><span class="line">            <span class="keyword">if</span>(check(newPoint))<span class="comment">//检查能不能走</span></span><br><span class="line">            &#123;</span><br><span class="line">                cubic[newPoint.z][newPoint.x][newPoint.y] = cubic[cur_posi.z][cur_posi.x][cur_posi.y]+<span class="number">1</span>;<span class="comment">//能走的话首先标记(直接标记的最短路)</span></span><br><span class="line">                q.push(newPoint);<span class="comment">//放入队列</span></span><br><span class="line">                <span class="keyword">if</span>(newPoint == endP)<span class="comment">//判断最终点</span></span><br><span class="line">                    <span class="keyword">return</span> cubic[newPoint.z][newPoint.x][newPoint.y]<span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//找不到</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;L,&amp;R,&amp;C))</span><br><span class="line">    &#123;</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">if</span>(L==<span class="number">0</span> &amp;&amp;R==<span class="number">0</span>&amp;&amp;C==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">memset</span>(cubic,<span class="number">0</span>,<span class="keyword">sizeof</span>(cubic));</span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;L;i++)<span class="comment">//录入信息</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;R;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;C;t++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;c);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(c==<span class="string">'S'</span>)</span><br><span class="line">                        startP = &#123;i,j,t&#125;;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'#'</span>)</span><br><span class="line">                        cubic[i][j][t] = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'E'</span>)</span><br><span class="line">                        endP = &#123;i,j,t&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">                getchar();</span><br><span class="line">            &#125;</span><br><span class="line">            getchar();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = bfs_dect();</span><br><span class="line">        <span class="keyword">if</span>(ans == <span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Trapped!\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Escaped in %d minute(s).\n"</span>,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><p>这道题算是对以前简单复习</p>
<p>BFS需要使用队列,经常忘记的是标记的问题,虽然说不标记也能求出来,但是时间必然会爆掉,一定要记得去标记走到过的点,同时标记时使用的数组可以复用,用来干一些其他的事情.</p>
<h2 id="C-必做题-3"><a href="#C-必做题-3" class="headerlink" title="C - 必做题 - 3"></a><a href="https://vjudge.net/problem/HDU-1024" target="_blank" rel="noopener">C - 必做题 - 3</a></h2><h3 id="题面-5"><a href="#题面-5" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/06/04/rhuj3mQGdWkNMIn.png" alt="image-20200604144913018"></p>
<p>题面意思很简单,一个序列中找出几组连续的数,是总和最大</p>
<h3 id="解法-5"><a href="#解法-5" class="headerlink" title="解法"></a>解法</h3><p>这个是一道dp的题,需要使用滚动数组优化空间(否则超了空间了)</p>
<p>dp[j][i]表示选j组到第i位置(必须选择这个)这j组最大值是多少,后续会优化掉j</p>
<p>$dp[j][i]=max(dp[j][i-1]+data[i],max(dp[j-1][i-1])+data[i])$</p>
<p>第一个的意思是都是第j组,i-1和i连续算是一组</p>
<p>第二个的意思是从i开始新建一组,因此需要从j-1中取,取得是0~~i-1中最大的那一个</p>
<p>因此我们能看出其实只需要两组数据就行,第j组和j-1组</p>
<p>因此使用temp[i]表示第j-1组中到第i个位置(可以不包含)最大值</p>
<p>temp[i]的更新也是dp的方法 temp[i] = max(temp[i-1],dp[i])</p>
<h3 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data[<span class="number">1000005</span>];<span class="comment">//原始数据</span></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">1000005</span>];<span class="comment">//最终答案</span></span><br><span class="line"><span class="keyword">int</span> temp_ans[<span class="number">1000005</span>];<span class="comment">//中间存储</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;m,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));</span><br><span class="line">        <span class="built_in">memset</span>(temp_ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(temp_ans));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,data+i);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> maxEle=<span class="number">0</span>;<span class="comment">//temp_ans更新的最大值</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)<span class="comment">//组数</span></span><br><span class="line">        &#123;</span><br><span class="line">            maxEle = <span class="number">-100000000</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt;=n; j++)<span class="comment">//第i租以j结尾的情况</span></span><br><span class="line">            &#123;</span><br><span class="line">                ans[j] = max(ans[j<span class="number">-1</span>]+data[j],temp_ans[j<span class="number">-1</span>]+data[j]);<span class="comment">//续上前一个还是新开始一个</span></span><br><span class="line">                temp_ans[j<span class="number">-1</span>] = maxEle;<span class="comment">//滚动数组,用完了才更新,用的时候上是i-1组的数据,现在更新为第i组</span></span><br><span class="line">                maxEle = max(temp_ans[j<span class="number">-1</span>],ans[j]);<span class="comment">//更新temp_ans[j],是保持之前的还是新的</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,maxEle);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>这道题感觉有点难度,之前做的是简单的m为1的情况,这个直接扩展了m.</p>
<p>扩展之后就需要多记录一维的信息.每次更新两维的信息.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/14/Program-week11-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/14/Program-week11-homework/" itemprop="url">Program-week10-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-14T23:31:04+08:00">
                2020-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week11-homework"><a href="#week11-homework" class="headerlink" title="week11-homework"></a>week11-homework</h1><h2 id="A-必做题11-1"><a href="#A-必做题11-1" class="headerlink" title="A - 必做题11-1"></a><a href="https://vjudge.net/problem/计蒜客-T1065" target="_blank" rel="noopener">A - 必做题11-1</a></h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/14/xr3MEeZvVwOFDjC.png" alt=""></p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>这是一道简单的模拟题,首先得了解高中学的概率知识,明白$(1+k)^t$这样一个增长公式然后可以用模拟的方法一年一年的模拟解出问题,也可以推一个的数学公式,直接算出来,这里采取模拟的方法</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">float</span> n;</span><br><span class="line">    <span class="keyword">float</span> m=<span class="number">200</span>;</span><br><span class="line">    <span class="keyword">float</span> k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%f%f"</span>,&amp;n,&amp;k);<span class="comment">//浮点</span></span><br><span class="line">    k = k/<span class="number">100</span>;<span class="comment">//小数</span></span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">float</span> total = m;</span><br><span class="line">    <span class="keyword">float</span> salary = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(salary-total&lt;<span class="number">0.000001</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        salary =i*n;<span class="comment">//收入</span></span><br><span class="line">        total = m*<span class="built_in">pow</span>((<span class="number">1</span>+k),i<span class="number">-1</span>);<span class="comment">//房价</span></span><br><span class="line">        <span class="keyword">if</span>(i++&gt;<span class="number">21</span>)<span class="comment">//大于20年</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;<span class="number">21</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Impossible"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,i<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>难度不大,但是得理清楚年份之间的关系,第一年房价是原价</p>
<h2 id="B-必做题11-2"><a href="#B-必做题11-2" class="headerlink" title="B - 必做题11-2"></a><a href="https://vjudge.net/problem/计蒜客-T3176" target="_blank" rel="noopener">B - 必做题11-2</a></h2><h3 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/14/c67wD98zqyoA2pR.png" alt="image-20200514234019695"></p>
<p>输入输出都是一个数字组成的矩阵</p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>题目本身也是模拟,这个考察了数组的下标的运用,通过下标的转换实现数组的转换</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> data[<span class="number">22</span>][<span class="number">22</span>];</span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">22</span>][<span class="number">22</span>];</span><br><span class="line"><span class="comment">// int mid[22][22];</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">dec</span><span class="params">(<span class="keyword">int</span> t,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> data[i][j]!=ans[i][j]; <span class="comment">//不动</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> data[n-j<span class="number">-1</span>][i]!=ans[i][j];  <span class="comment">//顺时针90</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> data[n-i<span class="number">-1</span>][n-j<span class="number">-1</span>]!=ans[i][j]; <span class="comment">//顺时针180</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">4</span>)</span><br><span class="line">        <span class="keyword">return</span> data[j][n-i<span class="number">-1</span>]!=ans[i][j]; <span class="comment">//顺时针270</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">rotate</span><span class="params">(<span class="keyword">int</span> t)</span>  <span class="comment">//调用dec</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            <span class="keyword">if</span>(dec(t,i,j))<span class="comment">//dec比较的是不等,一旦不等直接退出</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">    <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));</span><br><span class="line">    <span class="comment">// memset(mid,0,sizeof(mid));</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;data[i][j]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;ans[i][j]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(rotate(i+<span class="number">1</span>))<span class="comment">//四种旋转</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,i);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>本题考查数组的使用,通过下标的转换就能实现在不同方向上对数组矩阵的遍历</p>
<h2 id="C-必做题11-3"><a href="#C-必做题11-3" class="headerlink" title="C - 必做题11-3"></a><a href="https://vjudge.net/problem/计蒜客-T1111" target="_blank" rel="noopener">C - 必做题11-3</a></h2><h3 id="题面-2"><a href="#题面-2" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/14/JlkDPV3mwMSNefj.png" alt="image-20200514234609345"></p>
<p>经典凯撒密码</p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>将读入的字符一个一个进行判断是大写字母,ascii-5转换为明文输出,不是大写字母直接输出</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> data[<span class="number">202</span>] =&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((data[t++] = getchar())!=<span class="string">'\n'</span>);<span class="comment">//读取,也可以getline</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(data[i]&gt;=<span class="string">'A'</span>&amp;&amp;data[i]&lt;=<span class="string">'Z'</span>)<span class="comment">//大写字母</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,(data[i]+<span class="number">26</span><span class="number">-5</span>-<span class="string">'A'</span>)%<span class="number">26</span>+<span class="string">'A'</span> );</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">//其他</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>,data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>考察点主要在字符串读取和简易处理上</p>
<h2 id="D-必做题11-4"><a href="#D-必做题11-4" class="headerlink" title="D - 必做题11-4"></a><a href="https://vjudge.net/problem/CodeForces-1138A" target="_blank" rel="noopener">D - 必做题11-4</a></h2><h3 id="题面-3"><a href="#题面-3" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/14/2YnumKQszb5vBgA.png" alt=""></p>
<p>求取相同元素区间的长度</p>
<h3 id="解法-3"><a href="#解法-3" class="headerlink" title="解法"></a>解法</h3><p>这个和之前一个求相同元素长度区间的类似,只不过这个需要判断两个区间长度</p>
<h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> data[<span class="number">1000005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,data+i);</span><br><span class="line">    <span class="keyword">int</span> siz  e[<span class="number">3</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;<span class="comment">//记录一段中1和2的个数</span></span><br><span class="line">    <span class="keyword">int</span> Max = <span class="number">0</span>;<span class="comment">//输出的最大值</span></span><br><span class="line">    <span class="keyword">int</span> pre = data[<span class="number">0</span>];<span class="comment">//前一个变量</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="keyword">if</span>(data[i] == pre)<span class="comment">//如果现在的等于前一个,计数增加</span></span><br><span class="line">            size[data[i]]++;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = size[<span class="number">1</span>]&lt;size[<span class="number">2</span>]?size[<span class="number">1</span>]:size[<span class="number">2</span>];<span class="comment">//1-&gt;2 or 2-&gt;1交界点</span></span><br><span class="line">            <span class="keyword">if</span>(cur&gt;Max)<span class="comment">//更新</span></span><br><span class="line">                Max = cur;</span><br><span class="line">            pre = data[i];<span class="comment">//新的pre</span></span><br><span class="line">            size[pre] = <span class="number">1</span>;<span class="comment">//计数</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">int</span> cur = size[<span class="number">1</span>]&lt;size[<span class="number">2</span>]?size[<span class="number">1</span>]:size[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span>(cur&gt;Max)</span><br><span class="line">        Max = cur;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Max*<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><p>似乎这类问题挺多的,之前写的版本可能会re,不要在for中使用while</p>
<h2 id="E-选做题11-1-东东与-ATM"><a href="#E-选做题11-1-东东与-ATM" class="headerlink" title="E - 选做题11-1 东东与 ATM"></a><a href="https://vjudge.net/problem/POJ-1276" target="_blank" rel="noopener">E - 选做题11-1 东东与 ATM</a></h2><h3 id="题面-4"><a href="#题面-4" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/15/tOr4maQVojHGK23.png" alt=""></p>
<p>这道题是一道多重背包,而且需要使用二进制拆分进行优化才可过</p>
<h3 id="解法-4"><a href="#解法-4" class="headerlink" title="解法"></a>解法</h3><p>这道题可以直接按多重背包思路来理解,但是稍有不同,这个不需要价值最大,只需要满足要求</p>
<p>ans[j]=1表示能提供j金额的现金,使用滚动数组优化,然后状态方程为</p>
<p>对第t类钞票 ans[j] = ans[j-data[t]] (逆序)</p>
<p>然后因为每类钞票数量都是有限制的,因此采取类似多重背包二进制拆分的方案,将钞票按量分开,作为一种新钞票</p>
<h3 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">100002</span>];</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">12</span>];</span><br><span class="line"><span class="keyword">int</span> value[<span class="number">12</span>];</span><br><span class="line"><span class="keyword">int</span> nnum[<span class="number">10002</span>];</span><br><span class="line"><span class="keyword">int</span> nvalue[<span class="number">10002</span>];</span><br><span class="line"><span class="keyword">int</span> split[<span class="number">12</span>];</span><br><span class="line"><span class="keyword">int</span> ssum[<span class="number">12</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">12</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        split[i]=<span class="number">1</span>&lt;&lt;i;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">0</span>)</span><br><span class="line">            ssum[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            ssum[i] = ssum[i<span class="number">-1</span>]+split[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,p;</span><br><span class="line">    init();<span class="comment">//初始化二进制拆分数组</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(ans,<span class="number">128</span>,<span class="keyword">sizeof</span>(ans));  </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,num+i,value+i);</span><br><span class="line">        p=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> temp=num[i];<span class="comment">//将个数进行二进制拆分</span></span><br><span class="line">            <span class="keyword">while</span>((temp&gt;&gt;<span class="number">1</span>)&gt;<span class="number">0</span>)&#123;<span class="comment">//最多是2^x</span></span><br><span class="line">                t++;</span><br><span class="line">                temp = temp&gt;&gt;<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> s=<span class="number">0</span>;s&lt;t;s++)<span class="comment">//拆分</span></span><br><span class="line">                nnum[p]=split[s],nvalue[p++]=value[i];</span><br><span class="line">            <span class="keyword">if</span>(t==<span class="number">0</span>)<span class="comment">//剩下的</span></span><br><span class="line">                nnum[p] = num[i];</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                nnum[p]=num[i]-ssum[t<span class="number">-1</span>];</span><br><span class="line">            nvalue[p++]=value[i];</span><br><span class="line">        &#125;</span><br><span class="line">        ans[<span class="number">0</span>] = <span class="number">1</span>;<span class="comment">//提供0是可以的</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=p<span class="number">-1</span>;i++)<span class="comment">//一个一个钞票类型来</span></span><br><span class="line">        &#123;   </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=n;j&gt;=<span class="number">0</span>;j--)<span class="comment">//最多就是提供n</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// ans[j] = ans[j];</span></span><br><span class="line">                <span class="keyword">if</span>(j-nnum[i]*nvalue[i]&gt;=<span class="number">0</span>)<span class="comment">//大于0,避免负数现金</span></span><br><span class="line">                    <span class="keyword">if</span>(ans[j-nnum[i]*nvalue[i]] == <span class="number">1</span>)<span class="comment">//子情况能提供</span></span><br><span class="line">                        ans[j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> cur=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">            <span class="keyword">if</span>(ans[i] == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cur =i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,cur);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>这道题一开始使用的是朴素的多重背包，结果t了，然后使用二进制拆分过了，经过二进制拆分就把一个多重背包转换成了普通的背包问题，因为拆分后结果可以组合成多背包的每一种情况，但是对于拆开后的背包，每一个都是独立的，因此可以缩小复杂度把n转换为log（n）</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/29/Program-week9-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/29/Program-week9-homework/" itemprop="url">Program-week9-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-29T21:28:23+08:00">
                2020-04-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week9-homework"><a href="#week9-homework" class="headerlink" title="week9-homework"></a>week9-homework</h1><h2 id="A-咕咕东的目录管理器"><a href="#A-咕咕东的目录管理器" class="headerlink" title="A - 咕咕东的目录管理器"></a><a href="https://vjudge.net/problem/Kattis-directorymanagement" target="_blank" rel="noopener">A - 咕咕东的目录管理器</a></h2><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><h4 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h4><p><img src="https://i.loli.net/2020/05/04/CG9PtmcWDFk8oEp.png" alt=""></p>
<p>题目要求实现一个简单的目录管理器,主要是实现几个命令,建议还是去原题看看</p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>命令分为两种操作和询问,对于操作类型来说有一个undo 的操作,因此要使用一个栈来记录所有的操作型指令用于恢复.</p>
<p>首先我们设计文件树的存储(为啥用树?题目直接说了文件树 … )</p>
<p>这个树肯定是多个孩子的,我们可以用类似孩子链表的形式使用vector nodes存储所有节点,我们要求孩子顺序是字典序,因此使用map\<string,int\>存储孩子,string是文件名,int是vector种的下标.为了溯源存储一个int father,表示父节点的下标</p>
<p>剩下的几个变量都是为了题目实现而存储的信息.int allNodes代表的是以该节点为根的文件树的总节点数(每次插入或者删除节点向上溯源更新). string nodeName表示文件的当前节点的文件夹名.除此之外vector\<string\> ftree用来储存tree命令时前后的5个文件夹名.int change储存ftree是否应该发生改变,change=1表示文件结构被更新过,ftree不能用了.</p>
<p>下面讲解各个命令:</p>
<p>首先编写一个pushForward函数,用来从当前节点开始通过father向上更新整棵树,更新allNode和change.使用一个int curPosi记录当前操作的节点下标</p>
<p>mkdir: 首先检查新的文件名是否在children中存在,存在输出ERR.,不存在就新建,插入到nodes中,同时更新children,调用pushForward,将该次命令和操作的两个节点下标插入到栈history</p>
<p>rm: 首先检查children中有没有该文件,没有输出ERR,有就在children中删除(在nodes中不清除节点),调用pushForwad,将命令和操作的两个下标插入到history</p>
<p>cd: 遇到”..”直接返回到father,如果father是0(根节点)输出ERR.否则检查孩子中有没有想到的文件名,如果可以没有输出ERR,最后将命令和操作的下标插入到history</p>
<p>sz: 直接输出allNodes</p>
<p>ls: 首先看孩子个数,小于10,全部输出,大于10,输出前5个和后5个</p>
<p>tree: 该命令是比较难实现的,需要一定的记忆化<br>首先看当前节点的孩子个数,0个输出EMPTY,直接结束.其他情况首先递归实现以该节点为根的文件树通过先根遍历的方式更新ftree.更新时,更新过的节点change改为0表示无需再次更新.然后输出ftree前5个和后5个</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">treeNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> nodeName;<span class="comment">//文件名</span></span><br><span class="line">    <span class="keyword">int</span> father;<span class="comment">//父节点下标</span></span><br><span class="line">    <span class="keyword">int</span> allNodes;<span class="comment">//总的孩子个数+1 sz使用</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; ftree;<span class="comment">//tree命令使用的数组,前5个和后5个</span></span><br><span class="line">    <span class="keyword">int</span> change;<span class="comment">//ftree是否发生改变</span></span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; children;<span class="comment">//按字典序存孩子节点的文件名和下标</span></span><br><span class="line">    treeNode(<span class="built_in">string</span> name,<span class="keyword">int</span> father,<span class="keyword">int</span> allNodes,<span class="keyword">int</span> change):nodeName(name),father(father),allNodes(allNodes),change(change)</span><br><span class="line">    &#123;&#125;</span><br><span class="line">    treeNode()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cmd</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> command;</span><br><span class="line">    <span class="keyword">int</span> pwd;</span><br><span class="line">    <span class="keyword">int</span> newDir;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;treeNode&gt; nodes;<span class="comment">//所有节点的数组,下标就是这里的</span></span><br><span class="line"><span class="built_in">stack</span>&lt;cmd&gt; history;<span class="comment">//操作命令历史记录</span></span><br><span class="line"><span class="keyword">int</span> curPosi;<span class="comment">//当前操作的位置的下标</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushForward</span><span class="params">(<span class="keyword">int</span> posi,<span class="keyword">int</span> num)</span><span class="comment">//从posi开始上溯</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    nodes[posi].allNodes +=num;<span class="comment">//更新allNode</span></span><br><span class="line">    nodes[posi].change = <span class="number">1</span>;<span class="comment">//ftree要重新改变</span></span><br><span class="line">    nodes[posi].ftree.clear();<span class="comment">//清空(也可以不删)</span></span><br><span class="line">    <span class="keyword">if</span>(nodes[posi].father == posi)<span class="comment">//到达根节点</span></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">else</span> <span class="comment">//继续更新父节点</span></span><br><span class="line">        pushForward(nodes[posi].father,num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mkdir</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> newDirName;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;newDirName;</span><br><span class="line">    <span class="keyword">if</span> (nodes[curPosi].children.find(newDirName) != nodes[curPosi].children.end())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"ERR\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    nodes.push_back(treeNode(newDirName,curPosi,<span class="number">1</span>,<span class="number">1</span>));<span class="comment">//插入新节点</span></span><br><span class="line">    <span class="keyword">int</span> newPosi = nodes.size() - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    pushForward(curPosi,<span class="number">1</span>);<span class="comment">//向上更新</span></span><br><span class="line">    nodes[curPosi].children[newDirName] =newPosi;<span class="comment">//孩子</span></span><br><span class="line">    history.push(&#123;<span class="string">"mkdir"</span>,curPosi,newPosi&#125;);<span class="comment">//更新history</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"OK\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rm</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> delDirName;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;delDirName;</span><br><span class="line">    <span class="keyword">if</span> (nodes[curPosi].children.find(delDirName) == nodes[curPosi].children.end())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"ERR\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ptr =nodes[curPosi].children[delDirName];</span><br><span class="line">    <span class="keyword">int</span> cnt = nodes[ptr].allNodes;</span><br><span class="line">    nodes[curPosi].children.erase(delDirName);<span class="comment">//只删除孩子,不删除nodes</span></span><br><span class="line">    history.push(&#123;<span class="string">"rm"</span>,curPosi,ptr&#125;);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"OK\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cd</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> newDirName;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;newDirName;</span><br><span class="line">    <span class="keyword">if</span>(newDirName == <span class="string">".."</span>)<span class="comment">//father</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(nodes[curPosi].father == curPosi)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"ERR\n"</span>;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> newPosi = nodes[curPosi].father;</span><br><span class="line">        history.push(&#123;<span class="string">"cd"</span>,curPosi,newPosi&#125;);</span><br><span class="line">        curPosi = newPosi;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"OK\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(nodes[curPosi].children.find(newDirName) == nodes[curPosi].children.end())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"ERR\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> newPosi = nodes[curPosi].children[newDirName];</span><br><span class="line">    history.push(&#123;<span class="string">"cd"</span>,curPosi,newPosi&#125;);</span><br><span class="line">    curPosi = newPosi;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"OK\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sz</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt = nodes[curPosi].allNodes;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ls</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> childSize = nodes[curPosi].children.size();</span><br><span class="line">    <span class="keyword">if</span>(childSize == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"EMPTY\n"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (childSize &lt;=<span class="number">10</span>)<span class="comment">//10个之内</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i:nodes[curPosi].children)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;i.first&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// cout&lt;&lt;"\n";</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt;::iterator front = nodes[curPosi].children.begin();</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt;::iterator tail = nodes[curPosi].children.end();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++,front++)<span class="comment">//前5个</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;(*front).first&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// tail--;</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"...\n"</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++,tail--);<span class="comment">//后5个</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++,tail++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;(*tail).first&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// cout&lt;&lt;"\n";</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">undo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(history.size() == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"ERR\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    cmd oldCmd = history.top();</span><br><span class="line">    history.pop();</span><br><span class="line">    <span class="keyword">if</span>(oldCmd.command == <span class="string">"mkdir"</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        nodes[oldCmd.pwd].children.erase(nodes[oldCmd.newDir].nodeName);<span class="comment">//去除孩子</span></span><br><span class="line">        <span class="keyword">int</span> cnt = nodes[oldCmd.newDir].allNodes;</span><br><span class="line">        pushForward(oldCmd.pwd,<span class="number">-1</span>*cnt);<span class="comment">//更新allnNodes</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(oldCmd.command == <span class="string">"rm"</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        nodes[oldCmd.pwd].children[nodes[oldCmd.newDir].nodeName] = oldCmd.newDir;<span class="comment">//加回孩子</span></span><br><span class="line">        <span class="keyword">int</span> cnt = nodes[oldCmd.newDir].allNodes;</span><br><span class="line">        pushForward(oldCmd.pwd,cnt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(oldCmd.command == <span class="string">"cd"</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        curPosi = oldCmd.pwd;<span class="comment">//直接回退</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"OK\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">firstRoot</span><span class="params">(<span class="keyword">int</span> ptr,<span class="keyword">int</span> cur)</span><span class="comment">//在allNodes小于10的时候直接先根遍历更新ftree就行了</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    nodes[ptr].ftree.push_back(nodes[cur].nodeName);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:nodes[cur].children)</span><br><span class="line">        firstRoot(ptr,i.second);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">begin_end</span><span class="params">(<span class="keyword">int</span> ptr)</span><span class="comment">//更新ftree</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nodes[ptr].change == <span class="number">0</span>)<span class="comment">//已经更新过了</span></span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span>(nodes[ptr].allNodes&lt;=<span class="number">10</span>)<span class="comment">//10个节点及一下</span></span><br><span class="line">    &#123;</span><br><span class="line">        firstRoot(ptr,ptr);</span><br><span class="line">        nodes[ptr].change = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i:nodes[ptr].children)<span class="comment">//更新所有孩子的</span></span><br><span class="line">            begin_end(i.second);</span><br><span class="line">        nodes[ptr].ftree.push_back(nodes[ptr].nodeName);<span class="comment">//先放入自己</span></span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i:nodes[ptr].children)<span class="comment">//前4个</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt&gt;=<span class="number">4</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;nodes[i.second].ftree.size();t++)</span><br><span class="line">                <span class="keyword">if</span>(cnt++&lt;<span class="number">4</span>)</span><br><span class="line">                    nodes[ptr].ftree.push_back(nodes[i.second].ftree[t]);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt;::reverse_iterator it=nodes[ptr].children.rbegin();it!=nodes[ptr].children.rend();it++)<span class="comment">//后5个</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt&gt;=<span class="number">5</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> t=nodes[(*it).second].ftree.size()<span class="number">-1</span>;t&gt;=<span class="number">0</span>;t--)<span class="comment">//倒着的</span></span><br><span class="line">                <span class="keyword">if</span>(cnt++&lt;<span class="number">5</span>)</span><br><span class="line">                    nodes[ptr].ftree.insert(nodes[ptr].ftree.begin()+<span class="number">5</span>,nodes[(*it).second].ftree[t]);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nodes[ptr].change = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tree</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> childSize = nodes[curPosi].allNodes;</span><br><span class="line">    <span class="keyword">if</span>( childSize== <span class="number">1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"EMPTY\n"</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125; </span><br><span class="line">    begin_end(curPosi);</span><br><span class="line">    <span class="keyword">if</span>(childSize&lt;=<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i:nodes[curPosi].ftree)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;nodes[curPosi].ftree[i]&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"...\n"</span>;<span class="comment">//输出... 仔细看提</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">5</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;nodes[curPosi].ftree[i]&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">treeNode <span class="title">rootNode</span> <span class="params">(<span class="string">"root"</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> curCmd;</span><br><span class="line">    <span class="keyword">int</span> t=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> q;</span><br><span class="line">        nodes.clear();<span class="comment">//空间释放!!!!</span></span><br><span class="line">        nodes.push_back(rootNode);</span><br><span class="line">        <span class="keyword">while</span>(!history.empty())</span><br><span class="line">            history.pop();</span><br><span class="line">        curPosi = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;q;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;q;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;curCmd;</span><br><span class="line">            <span class="keyword">if</span>(curCmd == <span class="string">"MKDIR"</span>) mkdir();</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(curCmd == <span class="string">"RM"</span>) rm();</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(curCmd == <span class="string">"CD"</span>) cd();</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(curCmd == <span class="string">"SZ"</span>) sz();</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(curCmd == <span class="string">"LS"</span>) ls();</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(curCmd == <span class="string">"TREE"</span>) tree();</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(curCmd == <span class="string">"UNDO"</span>) undo();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>把本次模拟较为复杂,难点主要集中在tree的实现上,因为数据规模的原因直接进行前序遍历复杂度会超时,因此采取记忆化的操作,这样只在插入删除新的节点后才进行更新,其他情况直接使用存储的tree信息.</p>
<p>除此之外stl的map使用也值得一看,直接实现了有序的查找,复杂度还低</p>
<h2 id="B-东东学打牌"><a href="#B-东东学打牌" class="headerlink" title="B - 东东学打牌"></a><a href="https://vjudge.net/problem/计蒜客-41408" target="_blank" rel="noopener">B - 东东学打牌</a></h2><h3 id="题意-1"><a href="#题意-1" class="headerlink" title="题意"></a>题意</h3><p>和之前做过的那个发牌的题挺类似,使用类似搜索的方法</p>
<p><img src="https://i.loli.net/2020/05/04/mj8enzuLZFfSGKM.png" alt="image-20200504185524882"></p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>首先使用个结构体来handCard记录一个人的姓名和手牌,姓名使用string手牌使用vector,手牌转换为数字.使用一个handCard数组记录有所人的手牌.</p>
<p>然后开8个vector,分别表示8种情况下的人,然后写8个函数,分别判断一个人的手牌是哪一种情况,然后分配到对应的vector</p>
<p>针对这个8种情况编写几个排序函数,实现题目中要求的顺序,有几个排序方法使能复用的.</p>
<p>在8个判断函数中,使用map实现对同一数字手牌个数的判断.</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;<span class="comment">//手牌和人名</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">handCard</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cards;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">handCard allCard[<span class="number">1000</span>];<span class="comment">//所有人的情况</span></span><br><span class="line"><span class="keyword">int</span> exchanges[<span class="number">100</span>];<span class="comment">//将ascii码转换为对应的数字</span></span><br><span class="line"><span class="keyword">int</span> longshun[] = &#123;<span class="number">1</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>&#125;;<span class="comment">//龙顺判断</span></span><br><span class="line"><span class="comment">// priority_queue&lt;string,vector&lt;string&gt;,greater&lt;string&gt; &gt; ans[8];</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans[<span class="number">8</span>];<span class="comment">//8种类型</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">getCardNum</span><span class="params">(<span class="keyword">int</span> ptr,<span class="keyword">int</span> i)</span><span class="comment">//获取一张手牌</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">return</span> allCard[ptr].cards[i];&#125;</span><br><span class="line"></span><br><span class="line">map&lt;int,int&gt; getCnt(int ptr)//获得计数的字典</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">        mp[allCard[ptr].cards[i]]++;</span><br><span class="line">    <span class="keyword">return</span> mp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">distribute</span><span class="params">(<span class="keyword">int</span> ptr)</span><span class="comment">//判断一套牌属于哪一个类型</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mp = getCnt(ptr);</span><br><span class="line">    <span class="keyword">int</span> i =<span class="number">0</span> ;</span><br><span class="line">    &#123;<span class="comment">//龙顺</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">            <span class="keyword">if</span>(allCard[ptr].cards[i]!=longshun[i])</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[<span class="number">7</span>].push_back(ptr);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;<span class="comment">//顺子</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</span><br><span class="line">            <span class="keyword">if</span>(allCard[ptr].cards[i]+<span class="number">1</span>!=allCard[ptr].cards[i+<span class="number">1</span>])</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[<span class="number">6</span>].push_back(ptr);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;<span class="comment">//炸弹</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> t:mp)</span><br><span class="line">            <span class="keyword">if</span>(t.second == <span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ans[<span class="number">5</span>].push_back(ptr);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;<span class="comment">//三带二</span></span><br><span class="line">        <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> t:mp)</span><br><span class="line">            <span class="keyword">if</span>(t.second!=<span class="number">3</span>&amp;&amp;t.second!=<span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[<span class="number">4</span>].push_back(ptr);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;<span class="comment">//三个</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> t:mp)</span><br><span class="line">            <span class="keyword">if</span>(t.second == <span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ans[<span class="number">3</span>].push_back(ptr);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;<span class="comment">//两对</span></span><br><span class="line">        <span class="keyword">int</span> flag =<span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> t:mp)</span><br><span class="line">            <span class="keyword">if</span>(t.second == <span class="number">2</span>)</span><br><span class="line">                flag++;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[<span class="number">2</span>].push_back(ptr);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;<span class="comment">//对子</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> t:mp)</span><br><span class="line">            <span class="keyword">if</span>(t.second == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ans[<span class="number">1</span>].push_back(ptr);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ans[<span class="number">0</span>].push_back(ptr);<span class="comment">//大牌</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">nameOrder</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><span class="comment">//比较大牌,实际上就是名字的字典序</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">return</span> allCard[a].name&gt;allCard[b].name;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">numOrder</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><span class="comment">//所有手牌和的大小,顺子比较直接使用,大数也直接使用</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> al=<span class="number">0</span>,bl=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">        al+=allCard[a].cards[i],bl+=allCard[b].cards[i];</span><br><span class="line">    <span class="keyword">if</span>(al&lt;bl)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (al==bl)</span><br><span class="line">        <span class="keyword">return</span> nameOrder(a,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp6</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><span class="comment">//炸弹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(getCardNum(a,<span class="number">1</span>)&lt;getCardNum(b,<span class="number">1</span>))<span class="comment">//炸弹大小</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(getCardNum(a,<span class="number">1</span>) == getCardNum(b,<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> numOrder(a,b);<span class="comment">//比较剩下的一张牌</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp5</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><span class="comment">//三带二</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mpa = getCnt(a);</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mpb = getCnt(b);</span><br><span class="line">    <span class="keyword">int</span> al=<span class="number">0</span>,bl=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:mpa)</span><br><span class="line">        <span class="keyword">if</span>(t.second == <span class="number">3</span>) al=t.first;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:mpb)</span><br><span class="line">        <span class="keyword">if</span>(t.second == <span class="number">3</span>) bl=t.first;</span><br><span class="line">    <span class="keyword">if</span>(al&lt;bl)<span class="comment">//比较三</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(al==bl)<span class="comment">//比较二</span></span><br><span class="line">        <span class="keyword">return</span> numOrder(a,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//三个和三带二一样</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp3</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><span class="comment">//两对</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> al[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> bl[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mpa = getCnt(a);</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mpb = getCnt(b);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:mpa)</span><br><span class="line">        <span class="keyword">if</span>(t.second == <span class="number">2</span>)<span class="comment">//两个对子</span></span><br><span class="line">            al[i++] = t.first;</span><br><span class="line">    i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:mpb)</span><br><span class="line">        <span class="keyword">if</span>(t.second == <span class="number">2</span>)</span><br><span class="line">            bl[i++] = t.first;</span><br><span class="line">    <span class="keyword">if</span>(al[<span class="number">1</span>]&lt;bl[<span class="number">1</span>]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(al[<span class="number">1</span>]==bl[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span>(al[<span class="number">0</span>]&lt;bl[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(al[<span class="number">0</span>] == bl[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">return</span> numOrder(a,b);<span class="comment">//比较剩下的那一个数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span><span class="comment">//对子</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mpa = getCnt(a);</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mpb= getCnt(b);</span><br><span class="line">    <span class="keyword">int</span> al=<span class="number">0</span>,bl=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:mpa)</span><br><span class="line">        <span class="keyword">if</span>(t.second == <span class="number">2</span>)   al =t.first;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:mpb)</span><br><span class="line">        <span class="keyword">if</span>(t.second == <span class="number">2</span>)   bl=t.first;</span><br><span class="line">    <span class="keyword">if</span>(al&lt;bl) <span class="comment">//比较唯一的一个对子</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(al == bl)</span><br><span class="line">        <span class="keyword">return</span> numOrder(a,b);<span class="comment">//比较剩下的</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sort(ans[<span class="number">0</span>].begin(),ans[<span class="number">0</span>].end(),numOrder);<span class="comment">//排序</span></span><br><span class="line">    sort(ans[<span class="number">1</span>].begin(),ans[<span class="number">1</span>].end(),cmp2);</span><br><span class="line">    sort(ans[<span class="number">2</span>].begin(),ans[<span class="number">2</span>].end(),cmp3);</span><br><span class="line">    sort(ans[<span class="number">3</span>].begin(),ans[<span class="number">3</span>].end(),cmp5);</span><br><span class="line">    sort(ans[<span class="number">4</span>].begin(),ans[<span class="number">4</span>].end(),cmp5);</span><br><span class="line">    sort(ans[<span class="number">5</span>].begin(),ans[<span class="number">5</span>].end(),cmp6);</span><br><span class="line">    sort(ans[<span class="number">6</span>].begin(),ans[<span class="number">6</span>].end(),numOrder);</span><br><span class="line">    sort(ans[<span class="number">7</span>].begin(),ans[<span class="number">7</span>].end(),nameOrder);</span><br><span class="line">    <span class="comment">// sort(ans[0].begin(),ans[0].end(),);</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">7</span>;i&gt;=<span class="number">0</span>;i--)<span class="comment">//输出结果</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::reverse_iterator it=ans[i].rbegin();it!=ans[i].rend();it++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;allCard[*it].name&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">readInt</span><span class="params">()</span><span class="comment">//读入一个ascii转换为int</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> temp;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;temp);</span><br><span class="line">    <span class="keyword">if</span>(temp == <span class="string">'1'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> change[temp];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(change,<span class="number">0</span>,<span class="keyword">sizeof</span>(change));</span><br><span class="line">    <span class="keyword">int</span> s=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> i=<span class="string">'2'</span>;i&lt;=<span class="string">'9'</span>;i++,s++)</span><br><span class="line">        change[i] = s;</span><br><span class="line">    change[<span class="string">'A'</span>] = <span class="number">1</span>;<span class="comment">//初始化</span></span><br><span class="line">    change[<span class="string">'J'</span>] = <span class="number">11</span>;</span><br><span class="line">    change[<span class="string">'Q'</span>] = <span class="number">12</span>;</span><br><span class="line">    change[<span class="string">'K'</span>] = <span class="number">13</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;k)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// getchar();</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">            allCard[i].cards.clear();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">            ans[i].clear();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;allCard[i].name;</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;<span class="number">5</span>;t++)</span><br><span class="line">                allCard[i].cards.push_back(readInt());</span><br><span class="line">            sort(allCard[i].cards.begin(),allCard[i].cards.end());<span class="comment">//将每张手牌排序</span></span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)</span><br><span class="line">            distribute(i);<span class="comment">//把每个人手牌的类型分类</span></span><br><span class="line">        output();<span class="comment">//输出</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>这道题不是很难,主要是就是考虑题目中给出的几个情况的判断,判断同一个大小的牌数是一个比较麻烦的部分,使用map复杂度能低一些.另一个重要的地方是函数结构的设计,尽量提高的代码的复用率</p>
<h2 id="C-签到题，独立思考哈"><a href="#C-签到题，独立思考哈" class="headerlink" title="C - 签到题，独立思考哈"></a><a href="https://vjudge.net/problem/CodeForces-1042A" target="_blank" rel="noopener">C - 签到题，独立思考哈</a></h2><h3 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/04/MhjWDYoq5uE6TXR.png" alt=""></p>
<p>这个题实际上就是一个分配的问题,如何分配使所有单位的最大值最大或者最小</p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>首先最大值最小首先采取的方法就是平均值,一平均就是最小的,但是因为已经分配好的不能再懂了,如果现在的最大值比平均后的值大,说明加入y之后最小的最大值还是原来的最大值,如果最大值小于平均值,那么平均值就是最小最大值</p>
<p>最大最大值就很简单了,直接在现在最大值的基础上加上y就行了</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;x,&amp;y);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;x;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,data+i);</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;<span class="comment">//当前的总计,用于求平均数</span></span><br><span class="line">    <span class="keyword">int</span> Max=<span class="number">0</span>;<span class="comment">//当前的最大值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;x;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum+=data[i];<span class="comment">//统计</span></span><br><span class="line">        <span class="keyword">if</span>(data[i]&gt;Max) Max = data[i];<span class="comment">//最大值</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mn = <span class="built_in">ceil</span>((sum+y)/(x*<span class="number">1.0</span>));<span class="comment">//加上y的平均数</span></span><br><span class="line">    <span class="keyword">if</span>(mn&lt;Max)<span class="comment">//当前最大值大于平均数</span></span><br><span class="line">        mn = Max;<span class="comment">//取当前最大值</span></span><br><span class="line">    <span class="keyword">int</span> mx = Max+y;<span class="comment">///最大的最大值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d"</span>,mn,mx); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>这道题不难,主要是就把最小的最大值情况想全了就行</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/29/Program-week10-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/29/Program-week10-homework/" itemprop="url">Program-week10-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-29T21:28:09+08:00">
                2020-04-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="week10-homework"><a href="#week10-homework" class="headerlink" title="week10-homework"></a>week10-homework</h1><h2 id="A-签到题"><a href="#A-签到题" class="headerlink" title="A - 签到题"></a><a href="https://vjudge.net/problem/CodeForces-1141A" target="_blank" rel="noopener">A - 签到题</a></h2><h3 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/13/oWrKmnd8pHkwOzN.png" alt=""></p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>直接m/n看看是不能整除,不整除,直接输出-1</p>
<p>整除的话将得到的商先除2再除3,如果能够整除,就输出次数,不行输出-1</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">if</span>(m%n!=<span class="number">0</span>||n&gt;m)<span class="comment">//能整除</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> t = m/n;<span class="comment">//倍数</span></span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(t%<span class="number">2</span> == <span class="number">0</span>)<span class="comment">//一直/2直到不能进行</span></span><br><span class="line">    &#123;</span><br><span class="line">        t/=<span class="number">2</span>;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(t%<span class="number">3</span> == <span class="number">0</span>)<span class="comment">//一直除3直到不能进行</span></span><br><span class="line">    &#123;</span><br><span class="line">        t/=<span class="number">3</span>;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t!=<span class="number">1</span>)<span class="comment">//除不尽</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="comment">//除尽</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,i);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>问题不难,考虑除尽的情况即可</p>
<h2 id="B-LIS-amp-LCS"><a href="#B-LIS-amp-LCS" class="headerlink" title="B - LIS &amp; LCS"></a><a href="https://vjudge.net/problem/Gym-277140A" target="_blank" rel="noopener">B - LIS &amp; LCS</a></h2><h3 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/13/ImC1iALlYHBNZXf.png" alt="image-20200513115536949"></p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>这是一道DP的模板题</p>
<p>对于LIS 最长上升子序列而言,使用1维dp即可</p>
<p>$dp[j] = max(dp[i],\ (data[i]&lt;data[j],\ i&lt;j))+1$</p>
<p>$dp[j]$表示序列中第j个位置,以data[j]结尾的字符的LIS,全局的最大值要从整个序列中取最大值</p>
<p>对于LRS最长公共子序列,需要使用二维的DP,因为涉及到对两个区间的操作</p>
<p>$dp[i][j]$表示第一个序列第i个位置和第二个序列第j个位置的最长公共子序列长度</p>
<p>状态转移方程如下:</p>
<p>$A[i] == B[j]\ \ \ \ dp[i][j] = dp[i-1][j-1]+1$<br>$A[i]!=B[j]\ \ \ \ dp[i][j]=max(dp[i-1][j],dp[i][j-1])$</p>
<p>初始化所有长度为0</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="comment">// #include &lt;algorithm&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//最长上升子序列和最长公共子序列</span></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">int</span> A[<span class="number">5005</span>];<span class="comment">//两个序列原始信息</span></span><br><span class="line"><span class="keyword">int</span> B[<span class="number">5005</span>];</span><br><span class="line"><span class="keyword">int</span> LIS[<span class="number">5005</span>];<span class="comment">//存储答案</span></span><br><span class="line"><span class="keyword">int</span> LRS[<span class="number">5005</span>][<span class="number">5005</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findLIS</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> allMax = <span class="number">0</span>;<span class="comment">//最长上升子序列</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = A[i];</span><br><span class="line">        <span class="keyword">int</span> Max=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;i;t++)</span><br><span class="line">            <span class="keyword">if</span>(A[t]&lt;temp)</span><br><span class="line">                <span class="keyword">if</span>(LIS[t]&gt;Max)<span class="comment">//状态转移方程</span></span><br><span class="line">                    Max = LIS[t];<span class="comment">//取比A[i]小的元素的最大值</span></span><br><span class="line">        LIS[i] = Max+<span class="number">1</span>;<span class="comment">//更新</span></span><br><span class="line">        <span class="keyword">if</span>(Max+<span class="number">1</span>&gt;allMax)</span><br><span class="line">            allMax = Max+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> allMax;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findLRS</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">1</span>;t&lt;=m;t++)</span><br><span class="line">            <span class="keyword">if</span>(A[i<span class="number">-1</span>] == B[t<span class="number">-1</span>])</span><br><span class="line">                LRS[i][t] = LRS[i<span class="number">-1</span>][t<span class="number">-1</span>]+<span class="number">1</span>;<span class="comment">//相同更新加1</span></span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                LRS[i][t] = max(LRS[i<span class="number">-1</span>][t],LRS[i][t<span class="number">-1</span>]);<span class="comment">//矩阵上方或则左侧</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(LIS,<span class="number">0</span>,<span class="keyword">sizeof</span>(LIS));</span><br><span class="line">    <span class="built_in">memset</span>(LRS,<span class="number">0</span>,<span class="keyword">sizeof</span>(LRS));</span><br><span class="line">    <span class="built_in">memset</span>(A,<span class="number">0</span>,<span class="keyword">sizeof</span>(A));</span><br><span class="line">    <span class="built_in">memset</span>(B,<span class="number">0</span>,<span class="keyword">sizeof</span>(B));<span class="comment">//初始化</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,A+i);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,B+i);</span><br><span class="line">    <span class="keyword">int</span> maxELe = findLIS();</span><br><span class="line">    findLRS();</span><br><span class="line">    <span class="keyword">int</span> ans2 = LRS[n][m];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d"</span>,maxELe,ans2);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>dp 四件套 状态表示 转移方程 初始条件 转移策略</p>
<p>转移状态非常重要,LIS的状态表示没有直接给出要求的东西,但是能通过其他方法求取这个最大值,挺妙,得多想想</p>
<h2 id="C-拿数问题-II"><a href="#C-拿数问题-II" class="headerlink" title="C - 拿数问题 II"></a><a href="https://vjudge.net/problem/CodeForces-455A" target="_blank" rel="noopener">C - 拿数问题 II</a></h2><h3 id="题面-2"><a href="#题面-2" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/13/LAEqapWsrVHfM5w.png" alt=""></p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>这道题是对课上题目的小改,其实就是对一开始输入的系列进行一些处理,首先排个序,然后将所有相同的值合并,构造两个新序列,$pdata[i]$表示新序列对应位置的原始值,$process[i]$是原序列中$pdata[i]$的值的和(就是相当于把相同的值都加起来,然后保留加和和原本的值).</p>
<p>然后开始dp,$dp[i]$表示到第i个位置,总和最大值是多少​.</p>
<p>$pdata[i]==pdata[i-1]+1\ \ \ \ dp[i]=max(process[i]+dp[i-2],dp[i-1])$</p>
<p>$pdata[i]!=pdata[i-1]+1\ \ \ \ dp[i]=process[i]+dp[i-1]$</p>
<p>初始化为0,然后从小到大开始dp即可</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> data[<span class="number">100005</span>];<span class="comment">//原始数据</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> process[<span class="number">100005</span>];<span class="comment">//合并所有相同项后</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans[<span class="number">100005</span>];<span class="comment">//结果</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> pdata[<span class="number">100005</span>];<span class="comment">//process对应位置的原先的值</span></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">    <span class="built_in">memset</span>(process,<span class="number">0</span>,<span class="keyword">sizeof</span>(process));</span><br><span class="line">    <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));</span><br><span class="line">    <span class="built_in">memset</span>(pdata,<span class="number">0</span>,<span class="keyword">sizeof</span>(pdata));<span class="comment">//初始化</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,data+i);</span><br><span class="line">    sort(data,data+n);<span class="comment">//排序</span></span><br><span class="line">    m=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> temp = data[i];</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> sum = data[i];</span><br><span class="line">        <span class="keyword">while</span>(temp == data[i+<span class="number">1</span>])</span><br><span class="line">            sum+=data[++i];</span><br><span class="line">        pdata[m]=temp;<span class="comment">//原先的值</span></span><br><span class="line">        process[m++] = sum;<span class="comment">//计算和</span></span><br><span class="line">    &#125;</span><br><span class="line">    ans[<span class="number">0</span>] = process[<span class="number">0</span>];<span class="comment">//初始化</span></span><br><span class="line">    <span class="keyword">if</span>(pdata[<span class="number">1</span>] == pdata[<span class="number">0</span>]+<span class="number">1</span>)</span><br><span class="line">        ans[<span class="number">1</span>] = max(ans[<span class="number">0</span>],process[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ans[<span class="number">1</span>] = ans[<span class="number">0</span>]+process[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;m;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(pdata[i] == pdata[i<span class="number">-1</span>]+<span class="number">1</span>)<span class="comment">//不能取前一个数</span></span><br><span class="line">            ans[i]= max(ans[i<span class="number">-1</span>],process[i]+ans[i<span class="number">-2</span>]);</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//能取前一个数,直接加</span></span><br><span class="line">            ans[i] = ans[i<span class="number">-1</span>]+process[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld"</span>,ans[m<span class="number">-1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>这道题数据范围需要稍微注意一下,可能会超int,dp的规则相较于课上讲的其实变化不大,只不过需要多一步预处理.</p>
<h1 id="CSP-模拟"><a href="#CSP-模拟" class="headerlink" title="CSP-模拟"></a>CSP-模拟</h1><h2 id="A-签到题-1"><a href="#A-签到题-1" class="headerlink" title="A - 签到题"></a><a href="https://vjudge.net/problem/AtCoder-2041" target="_blank" rel="noopener">A - 签到题</a></h2><h3 id="题面-3"><a href="#题面-3" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/13/LuBieR152XMxVjz.png" alt=""></p>
<h3 id="解法-3"><a href="#解法-3" class="headerlink" title="解法"></a>解法</h3><p>这道题就是非常简单的判断最大最小值问题</p>
<p>题目让切分图形,最简单的就是长宽高方向切分,那么一共有三种面,求出最小的那个面就可以了</p>
<p>数据给到了1e9,用int会爆,因此用long long</p>
<h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//数据范围用long long</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> a,b,c;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld%lld%lld"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line">    <span class="keyword">if</span>(a%<span class="number">2</span>==<span class="number">0</span>||b%<span class="number">2</span>==<span class="number">0</span>||c%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//找三个面最小的那一个</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> Min = b*c;</span><br><span class="line">    <span class="keyword">if</span>(Min&gt;a*b)</span><br><span class="line">        Min = a*b;</span><br><span class="line">    <span class="keyword">if</span>(Min&gt;a*c)</span><br><span class="line">        Min = a*c;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld"</span>,Min);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><p>难度不大,还是要关注一下数据范围,会超int</p>
<h2 id="B-团-队-聚-会"><a href="#B-团-队-聚-会" class="headerlink" title="B - 团 队 聚 会"></a><a href="https://vjudge.net/problem/POJ-1960" target="_blank" rel="noopener">B - 团 队 聚 会</a></h2><h3 id="题面-4"><a href="#题面-4" class="headerlink" title="题面"></a>题面</h3><p><img src="https://i.loli.net/2020/05/13/tWUm59dogr6XBsP.png" alt="image-20200513142515530"></p>
<p>题面稍微有点长,大致意思就是又一系列区间,要求求出没有不区间覆盖为部分(或者仅被一个区间覆盖)</p>
<h3 id="解法-4"><a href="#解法-4" class="headerlink" title="解法"></a>解法</h3><p>题目本身很简单,但是因为区间的格式有点复杂,是一个确切的时间,因此要针对时间进行处理<br>首先写一个时间结构体,这个结构体有6个变量,分别是年月日时分秒,用来对应输入的时间,然后写好比较函数</p>
<p>然后写一个事件结构体event,包含两个时间点,一个起始时间,一个结束时间,然后两个时间点表示一段时间,这一段时间表示一个时间,用来存储输出的事件</p>
<p>我们使用两个堆,一个堆allTime存储所有的时间点,就是每个人每个时间段的开始时间和结束时间,另一个是堆数组person,用来存储每个人的事件,堆中排序依据事件起始事件,用一个vector存储所有的空闲时间段</p>
<p>编写事件处理函数,将每个人每个事件都存储为event,加入到对应的堆中,同时把每个时间也加入到allTime,</p>
<p>然后从allTime中提出两个时间,组成一个event,检查这个event所有人是否有空,如果满足条件,满足条件就将这个event加入到vector中,一直重复到堆空</p>
<p>检查过程就是先看看每个人堆顶的起始时间和待检测的结束时间关系,如果大于,则有空,如果小于,且待检测的开始时间晚于堆顶开始时间,待检测时间结束时间早于堆顶结束时间,则说明有事,如果堆顶结束时间早于待检测开始时间,弹出堆顶,继续检测</p>
<p>最终所有有空的时间都到了vector中,我们要输出这个时间,这其中有连续的时间被分割成多个连续片段的情况,因此要先合并,然后检查合并后的时间长度是否大于1h,是就输出.</p>
<h3 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">time</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> dataInfo[<span class="number">6</span>];<span class="comment">//时间从年到秒</span></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> time&amp; op) <span class="keyword">const</span> <span class="comment">//重载操作符 一定要是const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">            <span class="keyword">if</span>(dataInfo[i]&lt;op.dataInfo[i])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(dataInfo[i] == op.dataInfo[i])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;            </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> == (<span class="keyword">const</span> time&amp;  op)<span class="keyword">const</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">            <span class="keyword">if</span>(dataInfo[i]!=op.dataInfo[i])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &gt;(<span class="keyword">const</span> time&amp; op)<span class="keyword">const</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">            <span class="keyword">if</span>(dataInfo[i]&gt;op.dataInfo[i])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(dataInfo[i] == op.dataInfo[i])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;=(<span class="keyword">const</span> time&amp; op)<span class="keyword">const</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">            <span class="keyword">if</span>(dataInfo[i]&lt;op.dataInfo[i])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(dataInfo[i] == op.dataInfo[i])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">            <span class="keyword">if</span>(dataInfo[i]!=op.dataInfo[i])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//起始写麻烦了,可以写一个然后调用</span></span><br><span class="line">    time()&#123;&#125;;</span><br><span class="line">    time(<span class="keyword">int</span> year,<span class="keyword">int</span> month,<span class="keyword">int</span> day,<span class="keyword">int</span> hour,<span class="keyword">int</span> minute,<span class="keyword">int</span> second)</span><br><span class="line">    &#123;</span><br><span class="line">        dataInfo[<span class="number">0</span>] = year;</span><br><span class="line">        dataInfo[<span class="number">1</span>] = month;</span><br><span class="line">        dataInfo[<span class="number">2</span>] = day;</span><br><span class="line">        dataInfo[<span class="number">3</span>] = hour;</span><br><span class="line">        dataInfo[<span class="number">4</span>] = minute;</span><br><span class="line">        dataInfo[<span class="number">5</span>] = second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">event</span> </span></span><br><span class="line"><span class="class">&#123;</span> <span class="comment">//一个时间,包括起始时间和结束时间</span></span><br><span class="line">    time startTime;</span><br><span class="line">    time endTime;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &gt; (<span class="keyword">const</span> event&amp; op) <span class="keyword">const</span> </span><br><span class="line">    &#123; <span class="keyword">return</span> startTime &gt; op.startTime;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//最小堆</span></span><br><span class="line">priority_queue&lt;time,<span class="built_in">vector</span>&lt;time&gt;,greater&lt;time&gt; &gt; allTime;<span class="comment">//所有时间点的数组</span></span><br><span class="line">priority_queue&lt;event,<span class="built_in">vector</span>&lt;event&gt;,greater&lt;event&gt; &gt; person[<span class="number">22</span>];<span class="comment">//每个人的事件</span></span><br><span class="line"><span class="built_in">vector</span>&lt;event&gt; freeTime;<span class="comment">//存储一小段一小段能开会的时间</span></span><br><span class="line"><span class="keyword">int</span> perCnt;<span class="comment">//人数</span></span><br><span class="line"></span><br><span class="line"><span class="function">event <span class="title">readTime</span><span class="params">()</span><span class="comment">//读入一个时间</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    event tempEvent;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,tempEvent.startTime.dataInfo+i);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,tempEvent.endTime.dataInfo+i);</span><br><span class="line">    <span class="keyword">while</span>(getchar()!=<span class="string">'\n'</span>)<span class="comment">//去除后面没用的文字</span></span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">return</span> tempEvent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">checkFree</span><span class="params">(<span class="keyword">int</span> ptr,<span class="keyword">const</span> event&amp; curTime)</span><span class="comment">//检查一个人在一个时间段是不是有空的</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(person[ptr].empty())<span class="comment">//什么事都没了</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    event curEvent = person[ptr].top();<span class="comment">//最靠前的事</span></span><br><span class="line">    <span class="keyword">if</span>(curTime.endTime &lt;= curEvent.startTime)<span class="comment">//当前没有事</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(curEvent.startTime&lt;=curTime.startTime&amp;&amp;curTime.endTime&lt;=curEvent.endTime)<span class="comment">//当前有事</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(curEvent.endTime&lt;=curTime.startTime)<span class="comment">//当前的事已经干完了,取下一个事</span></span><br><span class="line">    &#123;</span><br><span class="line">        person[ptr].pop();</span><br><span class="line">        <span class="keyword">return</span> checkFree(ptr,curTime);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">checkAllPerson</span><span class="params">()</span><span class="comment">//检查所有人的时间情况</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    event curEvent;<span class="comment">//当前时间段</span></span><br><span class="line">    <span class="keyword">while</span>(!allTime.empty())<span class="comment">//时间点不空</span></span><br><span class="line">    &#123;</span><br><span class="line">        curEvent.startTime = allTime.top();</span><br><span class="line">        allTime.pop();</span><br><span class="line">        <span class="keyword">if</span>(allTime.empty())</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        curEvent.endTime = allTime.top();<span class="comment">//取两个时间点组成一个时间片段,检查时间片段内是否能开会</span></span><br><span class="line">        <span class="keyword">if</span>(curEvent.startTime == curEvent.endTime)<span class="comment">//无效时间片段</span></span><br><span class="line">        	<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> cnt =<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;perCnt;i++)</span><br><span class="line">            cnt+=checkFree(i,curEvent);<span class="comment">//有空人的个数</span></span><br><span class="line">        <span class="keyword">if</span>(cnt&gt;=perCnt<span class="number">-1</span>&amp;&amp;cnt&gt;=<span class="number">2</span>)<span class="comment">//能开会</span></span><br><span class="line">            freeTime.push_back(curEvent);<span class="comment">//将开会时间片段放入freeTime</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printMin</span><span class="params">(<span class="keyword">const</span> time&amp; t,<span class="keyword">int</span> i)</span><span class="comment">//输出时间的每一个小段</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t.dataInfo[i]&gt;=<span class="number">10</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,t.dataInfo[i]);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(t.dataInfo[i]&lt;<span class="number">10</span>&amp;&amp;t.dataInfo[i]&gt;<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0%d"</span>,t.dataInfo[i]);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(t.dataInfo[i] == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"00"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printTime</span><span class="params">(<span class="keyword">const</span> time&amp; s)</span><span class="comment">//输出时间</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    printMin(s,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"/"</span>);</span><br><span class="line">    printMin(s,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"/"</span>);</span><br><span class="line">    printMin(s,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">    printMin(s,<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">":"</span>);</span><br><span class="line">    printMin(s,<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">":"</span>);</span><br><span class="line">    printMin(s,<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">checkLimit</span><span class="params">(time s,time e)</span><span class="comment">//检查时间段下限,时间要超过1h</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    time newTime ;</span><br><span class="line">    <span class="keyword">int</span> t= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(s.dataInfo[<span class="number">3</span>]+<span class="number">1</span>&gt;=<span class="number">24</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        newTime.dataInfo[<span class="number">3</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(s.dataInfo[<span class="number">2</span>]+<span class="number">1</span>&gt;=<span class="number">31</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            newTime.dataInfo[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(s.dataInfo[<span class="number">1</span>]+<span class="number">1</span>&gt;=<span class="number">13</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                newTime.dataInfo[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">                newTime.dataInfo[<span class="number">0</span>] = s.dataInfo[<span class="number">0</span>]+<span class="number">1</span>;</span><br><span class="line">                t = <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">            	newTime.dataInfo[<span class="number">1</span>] = s.dataInfo[<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">            	t=<span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">        	newTime.dataInfo[<span class="number">2</span>] = s.dataInfo[<span class="number">2</span>]+<span class="number">1</span>;</span><br><span class="line">        	t=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    	newTime.dataInfo[<span class="number">3</span>] = s.dataInfo[<span class="number">3</span>]+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=t;i++)</span><br><span class="line">        newTime.dataInfo[i] = s.dataInfo[i];</span><br><span class="line">    newTime.dataInfo[<span class="number">4</span>]= s.dataInfo[<span class="number">4</span>];</span><br><span class="line">    newTime.dataInfo[<span class="number">5</span>] = s.dataInfo[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">return</span> newTime&lt;=e;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    event startEvent;</span><br><span class="line">    event endEvent;</span><br><span class="line">    time st;</span><br><span class="line">    time et;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;<span class="comment">//没有可用时间标置</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;freeTime.size();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        st = freeTime[i].startTime;</span><br><span class="line">        et = freeTime[i].endTime;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;freeTime.size()<span class="number">-1</span>)<span class="comment">//多个时间段可能是连着的,需要合成一个</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(et == freeTime[i+<span class="number">1</span>].startTime)<span class="comment">//头尾相连</span></span><br><span class="line">                et=freeTime[++i].endTime;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!checkLimit(st,et))</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        flag = <span class="number">0</span>;<span class="comment">//有可用时间</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"appointment possible from "</span>);</span><br><span class="line">        printTime(st);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" to "</span>);</span><br><span class="line">        printTime(et);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)</span><br><span class="line">    	<span class="built_in">printf</span>(<span class="string">"no appointment possible\n"</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">0</span>)<span class="comment">//输出格式</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;perCnt);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> c=<span class="number">0</span>;c&lt;perCnt;c++)</span><br><span class="line">            <span class="keyword">while</span>(!person[c].empty()) </span><br><span class="line">            	person[c].pop();</span><br><span class="line">        <span class="keyword">while</span>(!allTime.empty())</span><br><span class="line">            allTime.pop();</span><br><span class="line">        freeTime.clear();<span class="comment">//清空</span></span><br><span class="line">        <span class="keyword">int</span> endCheck = <span class="number">1</span>;</span><br><span class="line">        <span class="function">time <span class="title">rbegin</span><span class="params">(<span class="number">1800</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span></span>;<span class="comment">//总的开始时间</span></span><br><span class="line">        <span class="function">time <span class="title">rend</span><span class="params">(<span class="number">2200</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span></span>;<span class="comment">//总的结束时间</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;perCnt;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> n;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> m=<span class="number">0</span>;m&lt;n;m++)</span><br><span class="line">            &#123;</span><br><span class="line">                event tempEve = readTime();</span><br><span class="line">                person[j].push(tempEve);<span class="comment">//每个人的事件</span></span><br><span class="line">                <span class="keyword">if</span>(tempEve.endTime == rend)</span><br><span class="line">                    endCheck = <span class="number">0</span>;</span><br><span class="line">                allTime.push(tempEve.startTime);<span class="comment">//每一个时间点</span></span><br><span class="line">                allTime.push(tempEve.endTime);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!(allTime.top()==rbegin))<span class="comment">//重复插入,其实不用管</span></span><br><span class="line">            allTime.push(rbegin);</span><br><span class="line">        <span class="keyword">if</span>(endCheck)</span><br><span class="line">            allTime.push(rend);</span><br><span class="line">        checkAllPerson();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Scenario #%d:\n"</span>,i+<span class="number">1</span>);</span><br><span class="line">        output();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>这道题思路不麻烦,难的是代码的编写,这次写的非常丑,时间比较那里可以简化一下,同时可以把时间直接转换为秒,代码量更少.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/15/Program-week8-homework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xyfuture">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xyfuture's home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/15/Program-week8-homework/" itemprop="url">Program-week8-homework</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-15T09:09:31+08:00">
                2020-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%80%9D%E7%BB%B4/" itemprop="url" rel="index">
                    <span itemprop="name">程序设计思维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="homework"><a href="#homework" class="headerlink" title="homework"></a>homework</h1><h2 id="A-区间选点-II"><a href="#A-区间选点-II" class="headerlink" title="A - 区间选点 II"></a>A - 区间选点 II</h2><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><h4 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h4><p><img src="https://i.loli.net/2020/04/15/ZlMCLTWAFiN5dKj.png" alt=""></p>
<p>题意很简单,就是给定一个区间,要求在每个区间内得取够给定个数的点(可以超过,但是不能少),问全局最少需要去多少个点</p>
<h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>本道题要求使用差分约束来解</p>
<p>差分约束首先要构建方程,找到用于一个表示X的量,这里使用一个数组dis,dis[i]代表从min到第i个点一共有多少个点(注意这里的min对应着题目中最小的区间端点),那么实际上我们求取的就是dis[max]的值(max代表给出的最大区间端点).</p>
<p>下面开始构建约束</p>
<p>对于给出的区间(i,j)要求k的点我们可以构建方程</p>
<p>$dis[j]-dis[i-1]\geq k$</p>
<p>除此之外为了使题目有意义我们得保证每个点只能被取0次或1次,因此需要方程约束</p>
<p>$0\leq dis[t]-dis[t-1]\leq 1$s</p>
<p>题目中使从0开的,我们给每个点都进行偏移,使整个数轴从1开始,那么我们还能知道$dis[0]=0\ or\ dis[min-1]=0$</p>
<p>综上我们知道了如下信息</p>
<script type="math/tex; mode=display">
dis[min-1] =0\\
dis[j]-dis[i]\geq k\\
dis[t]-dis[t-1]\geq 0\\
dis[t-1] - dis[t]\geq -1</script><p>我们要求的最少用多少个点,那么就是求取最大值最小,使用最长路求取,因为有负边权我们使用SPFA来求,鉴于本题一定有答案,不做负环的判断</p>
<p>求出最长路只需要换一下啊松弛条件就可以了</p>
<p>这道题复杂度同SPFA一样,O(KM)</p>
<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="comment">// #include &lt;algorithm&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt; G[<span class="number">50005</span>];<span class="comment">//图</span></span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;<span class="comment">//队列</span></span><br><span class="line"><span class="keyword">int</span> dis[<span class="number">50005</span>];<span class="comment">//最大值,差分数组</span></span><br><span class="line"><span class="keyword">int</span> inque[<span class="number">50005</span>];<span class="comment">//是否在队列中</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis,<span class="number">-128</span>,<span class="keyword">sizeof</span>(dis));</span><br><span class="line">    <span class="built_in">memset</span>(inque,<span class="number">0</span>,<span class="keyword">sizeof</span>(inque));</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> min = <span class="number">50005</span>,max = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> a,b,c;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line">        a+=<span class="number">1</span>,b+=<span class="number">1</span>;<span class="comment">//把从0开始改为从1开始</span></span><br><span class="line">        <span class="keyword">if</span>(a&lt;min)</span><br><span class="line">            min = a;<span class="comment">//起始位置</span></span><br><span class="line">        <span class="keyword">if</span>(b&gt;max)</span><br><span class="line">            max = b;<span class="comment">//结束位置</span></span><br><span class="line">        G[a<span class="number">-1</span>].push_back(make_pair(b,c));<span class="comment">//有向边</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=min<span class="number">-1</span>;i&lt;max;i++)</span><br><span class="line">        G[i].push_back(make_pair(i+<span class="number">1</span>,<span class="number">0</span>));<span class="comment">//两点之差大于0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=min<span class="number">-1</span>;i&lt;max;i++)</span><br><span class="line">        G[i+<span class="number">1</span>].push_back(make_pair(i,<span class="number">-1</span>));<span class="comment">//两点之差小于1</span></span><br><span class="line">    <span class="comment">// dis[a]=0;</span></span><br><span class="line">    q.push(min<span class="number">-1</span>);<span class="comment">//从整个点开始遍历dis[min-1]</span></span><br><span class="line">    dis[min<span class="number">-1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> temp = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        inque[temp] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt;:: iterator i =G[temp].begin();i!=G[temp].end();i++)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(dis[(*i).first]&lt;dis[temp]+(*i).second)<span class="comment">//最长路</span></span><br><span class="line">            &#123;</span><br><span class="line">                dis[(*i).first] = dis[temp]+(*i).second;<span class="comment">//更新最长</span></span><br><span class="line">                <span class="keyword">if</span>(inque[(*i).first] == <span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                q.push((*i).first);</span><br><span class="line">                inque[(*i).first] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dis[max]);<span class="comment">//输出最终位置的值就是全局消耗</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>这道题是一道简单的差分约束题目,差分约束的难点主要在寻找到约束变量,同时构建出约束关系,这个约束条件一般有两部分一部分是题目直接给出的,另一部分是为了使题目有意义,隐含构建的,最后还要确认一个起点,其他点都是以这个为基础.</p>
<h2 id="B-猫猫向前冲"><a href="#B-猫猫向前冲" class="headerlink" title="B - 猫猫向前冲"></a>B - 猫猫向前冲</h2><h3 id="题意-1"><a href="#题意-1" class="headerlink" title="题意"></a>题意</h3><p><img src="https://i.loli.net/2020/04/15/X58rIWbk7wFvsSZ.png" alt=""></p>
<p>这个就是求取一个拓扑序,但是要求拓扑序是最小字典序的,需要对队列进行操作</p>
<h3 id="解法-1"><a href="#解法-1" class="headerlink" title="解法"></a>解法</h3><p>在拓扑排序的基础上,我们把正常用的队列改为最小堆,这样每次获得的0入度节点一定是字典序最小的点,其他的操作和正常的拓扑排序一致,首先找到入度为0的点,然后将其加入到堆,从堆取出一个节点,更新其邻接点入度,如果邻接点的入度为0了,就将邻接点加入到堆,重复循环直到堆空了.</p>
<p>使用堆的拓扑排序复杂度O(NlogN+M)</p>
<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[<span class="number">505</span>];<span class="comment">//图</span></span><br><span class="line"><span class="keyword">int</span> edges[<span class="number">505</span>];<span class="comment">//入度</span></span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;,greater&lt;<span class="keyword">int</span>&gt; &gt; q;<span class="comment">//最小堆</span></span><br><span class="line"><span class="keyword">int</span> ans [<span class="number">505</span>];<span class="comment">//拓扑序列</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(edges,<span class="number">0</span>,<span class="keyword">sizeof</span>(edges));</span><br><span class="line">        <span class="built_in">memset</span>(ans,<span class="number">0</span>,<span class="keyword">sizeof</span>(ans));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            G[i].clear();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> p1,p2;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;p1,&amp;p2);</span><br><span class="line">            edges[p2]++;<span class="comment">//更新入度</span></span><br><span class="line">            G[p1].push_back(p2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n+<span class="number">1</span>;i++)<span class="comment">//找到所有入度为0的点</span></span><br><span class="line">            <span class="keyword">if</span>(edges[i] == <span class="number">0</span>)</span><br><span class="line">                q.push(i);<span class="comment">//放入堆</span></span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;<span class="comment">//用于形成拓扑序</span></span><br><span class="line">        <span class="keyword">while</span>(!q.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = q.top();</span><br><span class="line">            q.pop();</span><br><span class="line">            ans[cnt++] = temp;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> i:G[temp])<span class="comment">//更新邻接点</span></span><br><span class="line">                <span class="keyword">if</span>(--edges[i] == <span class="number">0</span>)<span class="comment">//邻接点的入度为0</span></span><br><span class="line">                    q.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,ans[<span class="number">0</span>]);<span class="comment">//格式要求</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>,ans[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>拓扑序本质上还是一个贪心,比较好写,可能在取点时会有各种限制,注意一下</p>
<h2 id="C-班长竞选"><a href="#C-班长竞选" class="headerlink" title="C - 班长竞选"></a>C - 班长竞选</h2><h3 id="题意-2"><a href="#题意-2" class="headerlink" title="　题意"></a>　题意</h3><h4 id="题面-1"><a href="#题面-1" class="headerlink" title="题面"></a>题面</h4><p><img src="https://i.loli.net/2020/04/15/WEe5rOpKcRaqP24.png" alt=""></p>
<p>这个也是给定一个集合,然后求取传递闭包,问有多少个点能到达给定点,然后输出最多的点</p>
<h3 id="解法-2"><a href="#解法-2" class="headerlink" title="解法"></a>解法</h3><p>之前求闭包用的是floyd,但是这个算法在这里不太行,因为数据是5e3,n^3^的话就超时了,因此需要优化,这里采用的办法是求取强连通分量然后进行缩点.</p>
<p>求取强强联通分量的算法是Kosaraju,跑两遍dfs,时间复杂度是O(n+m),常数会大一些.</p>
<p>具体操作是这样的,首先对全图跑一边dfs,同时记录dfs后续序列.然后根据将后续序列倒过来,按照逆后续序列再跑一遍dfs,这次在反图中进行,这次一个dfs中经过的点都做一样的标记,这样标记相同的点就在一个强连通分量中.</p>
<p>得到了强连通分量,我们就可以进行缩点了,每个强连通分量都变成了一个点,遍历强连通分量中的点,能连接到其他的连通分量就在缩点后的图中加一条边(可能会有重复的边,但是不影响).</p>
<p>我们可以得知每一强连通分量都是互通的,因此有n-1个点支持连通分量内的点(连通分量有n个点),除此之外缩点后的图中还会有其他的连通分量连接过来,因此还要算上他们</p>
<p>这个我们使用dfs来求,缩点时我们添加边改为反向的,这样一个点能到的点都是支持他的.在缩点后的图中跑一边dfs就知道有多少个连通分量支持了,最终把所有支持的都加起来,取最大的那个就行了</p>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[<span class="number">5005</span>];<span class="comment">//原始的图</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; Gr[<span class="number">5005</span>];<span class="comment">//反向的原始图</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; Gs[<span class="number">5005</span>];<span class="comment">//缩点后的图</span></span><br><span class="line"><span class="keyword">int</span> vote[<span class="number">5005</span>];<span class="comment">//最终一个点的票数</span></span><br><span class="line"><span class="keyword">int</span> group[<span class="number">5005</span>];<span class="comment">//强连通分量标记</span></span><br><span class="line"><span class="keyword">int</span> dfs[<span class="number">5005</span>];<span class="comment">//后dfs序</span></span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">5005</span>];<span class="comment">//dfs访问记录</span></span><br><span class="line"><span class="keyword">int</span> dfsCnt;<span class="comment">//用于记录后dfs序</span></span><br><span class="line"><span class="keyword">int</span> temp[<span class="number">5005</span>];<span class="comment">//记录每个强连通分量的节点个数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">firstDFS</span><span class="params">(<span class="keyword">int</span> s)</span><span class="comment">//第一遍后dfs序</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator i=G[s].begin();i!=G[s].end();i++)</span><br><span class="line">        <span class="keyword">if</span>(vis[*i]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            vis[*i] = <span class="number">1</span>;</span><br><span class="line">            firstDFS(*i);</span><br><span class="line">        &#125;</span><br><span class="line">    dfs[dfsCnt++] = s;<span class="comment">//后续</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">groupDFS</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span><span class="comment">//分组</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    group[s] = t;<span class="comment">//都是一个标记</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator i=Gr[s].begin();i!=Gr[s].end();i++)<span class="comment">//跑反图</span></span><br><span class="line">        <span class="keyword">if</span>(group[*i]==<span class="number">0</span>)<span class="comment">//自带标记</span></span><br><span class="line">            groupDFS(*i,t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNum</span><span class="params">(<span class="keyword">int</span> vis[],<span class="keyword">int</span> s)</span><span class="comment">//缩点后的图中,一个连通分量与多少连通分量连接,返回所有连接分量的点的个数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tempAns=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator i=Gs[s].begin();i!=Gs[s].end();i++)</span><br><span class="line">        <span class="keyword">if</span>(vis[*i]==<span class="number">0</span>) </span><br><span class="line">        &#123;</span><br><span class="line">            vis[*i] = <span class="number">1</span>;</span><br><span class="line">            tempAns+=getNum(vis,*i);<span class="comment">//dfs</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> tempAns+temp[s];<span class="comment">//加上自己的</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;t;k++)</span><br><span class="line">    &#123;</span><br><span class="line">        dfsCnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n+<span class="number">4</span>;i++)</span><br><span class="line">            vote[i]=<span class="number">0</span>,group[i]=<span class="number">0</span>,vis[i]=<span class="number">0</span>,dfs[i]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            G[i].clear();</span><br><span class="line">            Gr[i].clear();</span><br><span class="line">            Gs[i].clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//上述为清空</span></span><br><span class="line">        <span class="keyword">int</span> a,b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a,&amp;b);</span><br><span class="line">            G[a].push_back(b);</span><br><span class="line">            Gr[b].push_back(a);<span class="comment">//反图</span></span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">if</span>(vis[i] == <span class="number">0</span>)<span class="comment">//第一次后dfs</span></span><br><span class="line">            &#123;</span><br><span class="line">                vis[i] = <span class="number">1</span>;</span><br><span class="line">                firstDFS(i);</span><br><span class="line">            &#125;</span><br><span class="line">        reverse(dfs,dfs+n);<span class="comment">//反转</span></span><br><span class="line">        <span class="keyword">int</span> color = <span class="number">1</span>;<span class="comment">//染色</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">if</span>(group[dfs[i]]==<span class="number">0</span>)</span><br><span class="line">                groupDFS(dfs[i],color++);</span><br><span class="line">        <span class="built_in">memset</span>(temp,<span class="number">0</span>,<span class="keyword">sizeof</span>(temp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            temp[group[i]]++;<span class="comment">//记录每个强连通分量内点的个数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)<span class="comment">//缩点</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator t=G[i].begin();t!=G[i].end();t++)</span><br><span class="line">                <span class="keyword">if</span>(group[i]!=group[*t])</span><br><span class="line">                    Gs[group[*t]].push_back(group[i]);<span class="comment">//可能会重复,无所谓</span></span><br><span class="line">        <span class="keyword">int</span> vis2[color+<span class="number">5</span>];<span class="comment">//访问标记</span></span><br><span class="line">        <span class="built_in">memset</span>(vis2,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis2));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;color;i++)</span><br><span class="line">            <span class="keyword">if</span>(vis2[i]==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(vis2,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis2));<span class="comment">//清空</span></span><br><span class="line">                vis2[i] = <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// getNum(vis2,i);</span></span><br><span class="line">                vote[i] = getNum(vis2,i)<span class="number">-1</span>;<span class="comment">//最后减一因为自己不能给自己投</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">int</span> maxNum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;color;i++)</span><br><span class="line">            <span class="keyword">if</span>(vote[i]&gt;maxNum)</span><br><span class="line">                maxNum = vote[i];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,k+<span class="number">1</span>,maxNum);</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(;i&lt;n;i++)<span class="comment">//格式要求,少一个空格</span></span><br><span class="line">            <span class="keyword">if</span>(vote[group[i]]==maxNum)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d"</span>,i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span>(i++;i&lt;n;i++)</span><br><span class="line">            <span class="keyword">if</span>(vote[group[i]]==maxNum)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" %d"</span>,i);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h3><p>这道题还是有点难度的,开始调了好久,没有意识到自己的后dfs序求错了,改了后dfs序就正确了,有趣的是即便后dfs序是错误的,但是还是过了样例,看起来样例参考意义太小了</p>
<h1 id="CSP"><a href="#CSP" class="headerlink" title="CSP"></a>CSP</h1><blockquote>
<p>这次CSP大翻车,直接爆零,情况十分惨烈</p>
<p>第一题 这个确实错了,想的时候没有把情况想全,忽略了只有两个数的情况</p>
<p>第二题 这个非常可惜,最后三分钟检查出了错误,没改完,明明是能拿满分的</p>
<p>第三题 考场上基本想出做法了,两次二分,但是时间不太够,因此先写了个暴力前6个点,结果<strong>交错了</strong>,我居然把第2题的代码交到了第三题 哎</p>
</blockquote>
<h2 id="HRZ的序列"><a href="#HRZ的序列" class="headerlink" title="HRZ的序列"></a>HRZ的序列</h2><h3 id="题意-3"><a href="#题意-3" class="headerlink" title="题意"></a>题意</h3><p><img src="https://i.loli.net/2020/04/17/XQcdpziCewRNKlE.png" alt=""></p>
<h3 id="解法-3"><a href="#解法-3" class="headerlink" title="解法"></a>解法</h3><h4 id="我的"><a href="#我的" class="headerlink" title="我的"></a>我的</h4><p>找出输入中最大的和最小的元素,然后遍历输入,如果这个这数等于最大或者最小直接继续,不等于看看(最大-最小)%2是不是0,是0判断看看输入是不是(最小+最大)/2,不是0则直接输出NO.</p>
<h4 id="另一个"><a href="#另一个" class="headerlink" title="另一个"></a>另一个</h4><p>用一个set来记录,两个元素的时候直接输出YES,三个元素时,判断三者关系,四个及以上输出NO</p>
<h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> data [<span class="number">10005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,data+j);</span><br><span class="line">        <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> Max = data[<span class="number">0</span>],Min=data[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;n;t++)<span class="comment">//找到max min</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(data[t]&gt;Max)</span><br><span class="line">                Max = data[t];</span><br><span class="line">            <span class="keyword">if</span>(data[t]&lt;Min)</span><br><span class="line">                Min =data[t];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;n;t++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(data[t]==Max||data[t]==Min))<span class="comment">//是不是max,min</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>((Max-Min)%<span class="number">2</span> == <span class="number">1</span>)<span class="comment">//能不能/2,因为要求是整数,不会有小数</span></span><br><span class="line">                &#123;</span><br><span class="line">                    flag =<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(data[t]!=Min+(Max-Min)/<span class="number">2</span>)<span class="comment">//不是平均的</span></span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h3><p>这类题感觉自己不是很会做,有点类似脑筋急转弯的感觉,难度不大,就是想不到,得多加联系</p>
<h2 id="HRZ学英语"><a href="#HRZ学英语" class="headerlink" title="HRZ学英语"></a>HRZ学英语</h2><h3 id="题意-4"><a href="#题意-4" class="headerlink" title="题意"></a>题意</h3><p><img src="https://i.loli.net/2020/04/17/WTn6rmvF1ZQDsiI.png" alt=""></p>
<p>给定一个序列,让找到满足要求的区间,并且输出最小字典序</p>
<h3 id="解法-4"><a href="#解法-4" class="headerlink" title="解法"></a>解法</h3><p>这里采取了类似尺取的做法,用一个数组vis记录26个字母对应在给定序列中的下标,一个r指针,一个l指针,每次先移动r指针到指定位置(正好确保l,r之间放满26个字母),每次移动记录r对应字母的下标,如果已经有了下标则代表重复,让l跳转到当前下标的下一个位置,同时l移动的同时把vis置0.然后为r重新设定目标位置,重新开始移动,直到移动到目标位置.</p>
<p>输出要求最小字典序,因此首先l所在位置的字母指示的下标开始在输入序列中遍历,遇到?,去vis中找第一个为0的字母,输出它,同时标记vis.</p>
<h3 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> data[<span class="number">1000005</span>];<span class="comment">//存储输入</span></span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">100</span>];<span class="comment">//26个字母对应下标</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(data,<span class="number">0</span>,<span class="keyword">sizeof</span>(data));</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%c"</span>,data+i)!=EOF)</span><br><span class="line">        <span class="keyword">if</span>(data[i]!=<span class="string">'\n'</span>)</span><br><span class="line">            i++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">if</span>(i&lt;= <span class="number">26</span>)<span class="comment">//至少26个字母,i==27</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">1</span>,r= <span class="number">1</span>;<span class="comment">//左右指针</span></span><br><span class="line">    <span class="keyword">int</span> lt=<span class="number">0</span>,rt=<span class="number">26</span>;<span class="comment">//左右指针应该到达的位置</span></span><br><span class="line">    <span class="keyword">while</span>(r-l &lt; <span class="number">26</span>)<span class="comment">//r-l==26就满足条件了</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=lt)<span class="comment">//l最终到达lt+1,但是lt+1没有被清零</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(data[l] == <span class="string">'?'</span>)<span class="comment">//重置vis</span></span><br><span class="line">                vis[data[l]] = <span class="number">0</span>;</span><br><span class="line">            l++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(r&lt;=rt)<span class="comment">//到达rt后l,r的距离就是26了</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(data[r] != <span class="string">'?'</span>)</span><br><span class="line">                <span class="keyword">if</span>(vis[data[r]] == <span class="number">0</span>)<span class="comment">//没有标记</span></span><br><span class="line">                    vis[data[r]] = r;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    lt = vis[data[r]];<span class="comment">//标记后就要移动l</span></span><br><span class="line">                    rt = lt+<span class="number">26</span>;<span class="comment">//新的位置</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            r++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(rt&gt;=i)<span class="comment">//到达了末端</span></span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(flag == <span class="number">1</span>)   </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//字典序最小</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=l;j&lt;=r<span class="number">-1</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(data[j] != <span class="string">'?'</span>)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%c"</span>,data[j]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">char</span> f=<span class="string">'A'</span>;f&lt;=<span class="string">'Z'</span>;f++)<span class="comment">//找到vis第一个为0的输出</span></span><br><span class="line">                    <span class="keyword">if</span>(vis[f] == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%c"</span>,f);</span><br><span class="line">                        vis[f] = <span class="number">1</span>;<span class="comment">//标记</span></span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h3><p>这道题在赛场上没做出来太可惜了,思路是对了,但是最后没有判断好l和r的关系,没写好退出的条件,产生了错误,最终没有过</p>
<h2 id="咕咕东的奇妙序列"><a href="#咕咕东的奇妙序列" class="headerlink" title="咕咕东的奇妙序列"></a>咕咕东的奇妙序列</h2><h3 id="题意-5"><a href="#题意-5" class="headerlink" title="题意"></a>题意</h3><p><img src="https://i.loli.net/2020/04/17/Xu3rDvcNzmELR1W.png" alt=""></p>
<p>这道题就是给定了一个规则,我们用这个规则生成了一个序列(当然不可能实际生成出来),求取序列中指定位置的点的值</p>
<h3 id="解法-5"><a href="#解法-5" class="headerlink" title="解法"></a>解法</h3><p>使用两次二分来解</p>
<p>第一次二分是找到要查找的元素在哪一个组(第i组是指123 … i-1 i 这个范围),找到那一组之后还要在二分查找在这一组的哪一个位置</p>
<p>首先我们要知道第i组在序列中是什么位置(第i组结束的位置),我们可以观察规律,很容易发现如果是是第i组,1有i个,2有i-1个….10有i-9个,最终i有1个.然后每个数我们都是知道他们的位数的,现在又知道了个数,就很容易求出第i组的位置了.</p>
<p>但是这样一个数一个数的求,效率比较低,我们可以直接把所有t位的数总个数一次求出了,比如2位的数(10-99)一共90个,然后10的个数到99的个数是一个等差数列,用就和公式直接求就行了,最后*2就是2位数占的位置,其他的类似.我们给出一个t位数,我们可以直接求出1-t-1位数总的数字数,然后用同样的方法求t位数的数字数.</p>
<p>这样我们就能完全知道第i组数在序列中的位置了,然后使用二分求出第一个大于等于给定位置的组,再在组中进行操作.</p>
<p>在组中也是要找到第k个数的位置,,这个简单多了,假设k用m位,从1-m-1位的数可以直接求出来,因为每个数的位数是知道的,每个数只出现一次,t位数有几个都知道(比如1位的9个,2位的一共90个,3位的900个).剩下解决m位有几个,k-(1em)+1就是个数了,乘上m算出数字个数了,全部加起来就是位置了</p>
<p>同样我们也使用二分找到第一个大于等于给定位置的数,最终输出想要的哪一位就行了</p>
<p>复杂度分析$O((log_{10}ST)^2logST)$大致应该是这个复杂度,ST是一个常数,因为每次固定从他开始找,因此是稳定的,第ST组数的结束位置已经大于了数据范围</p>
<h3 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ST 800000000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bits</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> num)</span><span class="comment">//计算一个数有几位</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(;num&gt;<span class="number">0</span>;num=num/<span class="number">10</span>,ans++);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">power</span><span class="params">(<span class="keyword">int</span> i)</span><span class="comment">//10的i次方</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;i;t++)</span><br><span class="line">        ans*=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">curNum</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n,<span class="keyword">long</span> <span class="keyword">long</span> s,<span class="keyword">long</span> <span class="keyword">long</span> e)</span><span class="comment">//计算等差数列和,顺便乘上n</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="keyword">return</span> n*(e+s)*(s-e+<span class="number">1</span>)/<span class="number">2</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">allNum</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> temp)</span><span class="comment">//计算temp所在的位置</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = bits(temp);<span class="comment">//有几位</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;<span class="comment">//记录位置</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)<span class="comment">//1~n-1位有多少个数字</span></span><br><span class="line">    &#123;</span><br><span class="line">        ans+=curNum(<span class="number">1l</span>l*i,temp-power(i<span class="number">-1</span>)+<span class="number">1</span>,temp+<span class="number">1</span>-power(i<span class="number">-1</span>)<span class="number">-9</span>*power(i<span class="number">-1</span>)+<span class="number">1</span>);<span class="comment">//temp-xxx,表示的等差数列开始位置和结束的位置,这个是符合规律的</span></span><br><span class="line">    &#125;</span><br><span class="line">    ans+=curNum(n,temp-power(n<span class="number">-1</span>)+<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//第n位有几个,也是用规律求的等差数列</span></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">perNum</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> temp)</span><span class="comment">//temp在组内的位置</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = bits(temp);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span>  ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)<span class="comment">//1~n-1</span></span><br><span class="line">        ans+= i*power(i<span class="number">-1</span>)*<span class="number">9</span>;</span><br><span class="line">    ans+= n*(temp-power(n<span class="number">-1</span>)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">0</span>;t&lt;n;t++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> k;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;k);</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> l=<span class="number">0</span>,r=ST;<span class="comment">//ST是找的一个数,因为allNum(ST)已经超过了数据范围,ST可以降低复杂度</span></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> tar = <span class="number">0</span>;<span class="comment">//目标</span></span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)</span><br><span class="line">        &#123;   </span><br><span class="line">            <span class="keyword">if</span>(allNum(mid)&gt;=k)<span class="comment">//找第一个大于k的组</span></span><br><span class="line">            &#123;</span><br><span class="line">                r= mid<span class="number">-1</span>;<span class="comment">//右移</span></span><br><span class="line">                tar = mid;</span><br><span class="line">            &#125;    </span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                l=mid+<span class="number">1</span>;</span><br><span class="line">            mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        l=<span class="number">0</span>,r=tar;<span class="comment">//下一次二分</span></span><br><span class="line">        k-=allNum(tar<span class="number">-1</span>);<span class="comment">//第tar组满足,减去allNum(tar-1)就是tar组内的位置了</span></span><br><span class="line">        mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(perNum(mid)&gt;=k)<span class="comment">//找到tar组内,第一个大于k的数</span></span><br><span class="line">            &#123;</span><br><span class="line">                r=mid<span class="number">-1</span>;</span><br><span class="line">                tar = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                l=mid+<span class="number">1</span>;</span><br><span class="line">            mid = (l+r)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        k-=perNum(tar<span class="number">-1</span>);<span class="comment">//减去之后就是在tar这个数内第几个数字了</span></span><br><span class="line">        <span class="built_in">stringstream</span> s;<span class="comment">//方便输出</span></span><br><span class="line">        s&lt;&lt;tar;</span><br><span class="line">        <span class="built_in">string</span> str;</span><br><span class="line">        s&gt;&gt;str;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c\n"</span>,str[k<span class="number">-1</span>]);<span class="comment">//直接输出</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h3><p>这道题一开始写的暴力,结果交的时候硬是交成了第2题的代码,这是不可忍受的的,以后交的时候一定要检查!!!</p>
<p>对于这道题来说找到了规律不算太难,当时看到这么大数据范围i基本上就能想到是二分这类log的算法了,但是码力不太够,不能在30min之内完全打出来,还是有待提升</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://i.loli.net/2020/02/28/cAKbXSfZYIC9mF8.jpg"
                alt="Xyfuture" />
            
              <p class="site-author-name" itemprop="name">Xyfuture</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xyfuture</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
